import{u as G,E as P}from"./user-BlSoJ4sI.js";import{E as J}from"./popover-BIWHipKX.js";import"./popper-BsIcb9u1.js";import{E as Q}from"./button-B1tUs0Mk.js";import{_ as L,c as s,a as t,u as c,F as h,b,t as _,d,w as g,e as H,o as a,r as w,f as Y,g as E,h as T,i as j,j as S,k as q,l as $,m as B,n as V,v as tt,p as et,q as at,s as st,x as ot}from"./index-DhLi9643.js";import{u as nt,E as it}from"./search-CKThYalB.js";import{v as z}from"./loading-QT87a5DG.js";import{E as D}from"./empty-Bfu0PpZe.js";import{u as K}from"./cartStore-D35EnWW1.js";import{u as M}from"./category-BlxOa_qC.js";import{E as rt}from"./index-C7WVrZTI.js";import"./input-BA7ekQb7.js";import"./event-BB_Ol6Sd.js";import"./error-Cq9Fpw4b.js";import"./focus-trap-SSWcp4oQ.js";import"./scroll-Bg9HmHYL.js";import"./throttle-J-t_Ahw2.js";import"./debounce-Dr2Wdh2K.js";import"./overlay-IBuNuzdf.js";import"./vnode-dBc5tG_F.js";const lt={class:"app-topnav"},ct={class:"container"},dt={__name:"LayoutNav",setup(C){const i=G(),m=H(),l=()=>{i.clearUserInfo(),m.push("/login")};return(u,e)=>{const y=J;return a(),s("nav",lt,[t("div",ct,[t("ul",null,[c(i).userInfo.token?(a(),s(h,{key:0},[t("li",null,[t("a",{href:"javascript:;",onClick:e[0]||(e[0]=v=>u.$router.push("/"))},[e[4]||(e[4]=t("i",{class:"iconfont icon-user"},null,-1)),b(_(c(i).userInfo.nickname),1)])]),t("li",null,[d(y,{onConfirm:l,title:"确认退出吗?","confirm-button-text":"确认","cancel-button-text":"取消"},{reference:g(()=>e[5]||(e[5]=[t("a",{href:"javascript:;"},"退出登录",-1)])),_:1})]),t("li",null,[t("a",{href:"javascript:;",onClick:e[1]||(e[1]=v=>u.$router.push("/member/order"))},"我的订单")]),t("li",null,[t("a",{href:"javascript:;",onClick:e[2]||(e[2]=v=>u.$router.push("/member"))},"会员中心")])],64)):(a(),s(h,{key:1},[t("li",null,[t("a",{href:"javascript:;",onClick:e[3]||(e[3]=v=>u.$router.push("/login"))},"请先登录")]),e[6]||(e[6]=t("li",null,[t("a",{href:"javascript:;"},"帮助中心")],-1)),e[7]||(e[7]=t("li",null,[t("a",{href:"javascript:;"},"关于我们")],-1))],64))])])])}}},ut=L(dt,[["__scopeId","data-v-ca6713ac"]]),vt={class:"cart"},ft={class:"curr",href:"javascript:;"},pt={key:0},_t={class:"layer"},mt={key:0},yt={class:"list"},bt={alt:""},ht={class:"center"},gt={class:"name ellipsis-2"},kt={class:"attr ellipsis"},$t={class:"right"},Ct={class:"price"},xt={class:"count"},jt=["onClick"],St={class:"foot"},Lt={class:"total"},Et={__name:"HeaderCart",setup(C){const i=K();return(m,l)=>{const u=w("RouterLink"),e=Q,y=D,v=Y("img-lazy"),x=z;return a(),s("div",vt,[t("a",ft,[l[1]||(l[1]=t("i",{class:"iconfont icon-cart"},null,-1)),c(i).allCount!==0?(a(),s("em",pt,_(c(i).allCount),1)):E("",!0)]),t("div",_t,[c(i).allCount?(a(),s("div",mt,[j((a(),s("div",yt,[(a(!0),s(h,null,S(c(i).cartList,f=>(a(),s("div",{class:"item",key:f.id},[d(u,{to:`/detail/${f.id}`},{default:g(()=>[j(t("img",bt,null,512),[[v,f.picture]]),t("div",ht,[t("p",gt,_(f.name),1),t("p",kt,_(f.attrsText),1)]),t("div",$t,[t("p",Ct,"¥"+_(f.nowPrice),1),t("p",xt,"x"+_(f.count),1)])]),_:2},1032,["to"]),t("i",{class:"iconfont icon-close-new",onClick:k=>c(i).delCart([f.skuId])},null,8,jt)]))),128))])),[[x,c(i).loading]]),t("div",St,[t("div",Lt,[t("p",null,"共 "+_(c(i).allCount)+" 件商品",1),t("p",null,"¥ "+_(c(i).allPrice.toFixed(2)),1)]),d(e,{size:"large",type:"primary",onClick:l[0]||(l[0]=f=>m.$router.push("/cartlist"))},{default:g(()=>l[2]||(l[2]=[b("去购物车结算")])),_:1})])])):(a(),T(y,{key:1,description:"购物车列表为空"}))])])}}},wt=L(Et,[["__scopeId","data-v-ef8af886"]]),Rt={class:"container"},It={class:"logo"},Pt={class:"app-header-nav"},qt={key:0,class:"history"},Mt=["onClick"],Nt=["onClick"],Ft={key:0,style:{"text-align":"center"}},Ht={key:1,class:"think"},Tt=["onClick"],Bt={__name:"LayoutHeader",setup(C){const i=M(),m=K();q(()=>{m.getCartList()});const{searchHistory:l,addSearchHistory:u,delSearchHistory:e}=nt(),y=H(),v=$(!1),x=$(!0),f=$(!1),k=$(""),p=$([]),R=$(!1);B(()=>k.value,o=>{R.value=!0,setTimeout(()=>{R.value=!1},500),o===""?x.value=!0:x.value=!1,f.value=!1,o==="酒"?p.value=["酒","红酒","白酒"]:o==="数"?p.value=["数码","数据线"]:o==="数码"?p.value=["数码","数据线","耳机"]:o==="乐"?p.value=["乐器"]:o==="乐器"?p.value=["乐器","吉他"]:o==="头"||o==="头盔"?p.value=["头盔"]:o==="红"||o==="红酒"?p.value=["红酒"]:o==="白"||o==="白酒"?p.value=["白酒"]:o==="数据"||o==="数据线"?p.value=["数据线"]:o==="耳"||o==="耳机"?p.value=["耳机"]:o==="吉"||o==="吉他"?p.value=["吉他"]:(p.value=[],f.value=!0)});const U=["酒","红酒","白酒","数码","数据线","耳机","乐器","吉他","头盔"],I=o=>{U.includes(o)?(u(o),k.value=o,v.value=!1,y.push(`/category/sub/${o}`)):P.warning("未搜索到内容，换一个吧"),k.value=""},A=()=>{v.value=!1};return(o,n)=>{const N=w("RouterLink"),X=D,O=z,W=it;return j((a(),s("header",{class:"app-header",onWheel:n[6]||(n[6]=r=>v.value=!1)},[t("div",Rt,[t("h1",It,[d(N,{to:"/"},{default:g(()=>n[7]||(n[7]=[b("小兔鲜")])),_:1})]),t("ul",Pt,[(a(!0),s(h,null,S(c(i).categoryList,r=>(a(),s("li",{class:"home",key:r.id},[d(N,{"active-class":"active",to:`/category/${r.id}`},{default:g(()=>[b(_(r.name),1)]),_:2},1032,["to"])]))),128))]),t("div",{class:"search",onMouseenter:n[4]||(n[4]=r=>v.value=!0)},[n[10]||(n[10]=t("i",{class:"iconfont icon-search"},null,-1)),j(t("input",{type:"text",placeholder:"搜一搜",onFocus:n[0]||(n[0]=r=>v.value=!0),onKeyup:n[1]||(n[1]=V(r=>I(k.value),["enter"])),"onUpdate:modelValue":n[2]||(n[2]=r=>k.value=r)},null,544),[[tt,k.value]]),v.value?(a(),s("div",{key:0,class:"show",onMouseleave:n[3]||(n[3]=r=>v.value=!1)},[x.value?(a(),s("div",qt,[n[9]||(n[9]=t("div",{style:{height:"16px","line-height":"16px"}},"搜索历史",-1)),(a(!0),s(h,null,S(c(l),(r,F)=>(a(),s("div",{class:"historyItem",key:r},[t("span",{onClick:Z=>I(r),class:"itemName"},_(r),9,Mt),t("i",{class:"iconfont icon-close-new del",onClick:Z=>c(e)(F)},null,8,Nt)]))),128)),c(l).length===0?(a(),s("div",Ft,n[8]||(n[8]=[b("还没有搜索记录哦😘😘~"),t("br",null,null,-1),b("去搜索吧！😁")]))):E("",!0)])):j((a(),s("div",Ht,[t("ul",null,[(a(!0),s(h,null,S(p.value,r=>(a(),s("li",{key:r,onClick:F=>I(r)},_(r),9,Tt))),128))]),f.value?(a(),T(X,{key:0,description:"暂无搜索内容",style:{height:"180px"}})):E("",!0)])),[[O,R.value]])],32)):E("",!0)],32),d(wt,{onMouseenter:n[5]||(n[5]=r=>v.value=!1)})])],32)),[[W,A]])}}},zt=L(Bt,[["__scopeId","data-v-20dbc477"]]),Dt="/gtyXTX/assets/qrcode-orqZiaKR.jpg",Kt={},Ut={class:"app_footer"};function At(C,i){return a(),s("footer",Ut,i[0]||(i[0]=[et('<div class="contact" data-v-92b8fc69><div class="container" data-v-92b8fc69><dl data-v-92b8fc69><dt data-v-92b8fc69>客户服务</dt><dd data-v-92b8fc69><i class="iconfont icon-kefu" data-v-92b8fc69></i> 在线客服</dd><dd data-v-92b8fc69><i class="iconfont icon-question" data-v-92b8fc69></i> 问题反馈</dd></dl><dl data-v-92b8fc69><dt data-v-92b8fc69>关注我们</dt><dd data-v-92b8fc69><i class="iconfont icon-weixin" data-v-92b8fc69></i> 公众号</dd><dd data-v-92b8fc69><i class="iconfont icon-weibo" data-v-92b8fc69></i> 微博</dd></dl><dl data-v-92b8fc69><dt data-v-92b8fc69>下载APP</dt><dd class="qrcode" data-v-92b8fc69><img src="'+Dt+'" data-v-92b8fc69></dd><dd class="download" data-v-92b8fc69><span data-v-92b8fc69>扫描二维码</span><span data-v-92b8fc69>立马下载APP</span><a href="javascript:;" data-v-92b8fc69>下载页面</a></dd></dl><dl data-v-92b8fc69><dt data-v-92b8fc69>服务热线</dt><dd class="hotline" data-v-92b8fc69>400-0000-000 <small data-v-92b8fc69>周一至周日 8:00-18:00</small></dd></dl></div></div><div class="extra" data-v-92b8fc69><div class="container" data-v-92b8fc69><div class="slogan" data-v-92b8fc69><a href="javascript:;" data-v-92b8fc69><i class="iconfont icon-footer01" data-v-92b8fc69></i><span data-v-92b8fc69>价格亲民</span></a><a href="javascript:;" data-v-92b8fc69><i class="iconfont icon-footer02" data-v-92b8fc69></i><span data-v-92b8fc69>物流快捷</span></a><a href="javascript:;" data-v-92b8fc69><i class="iconfont icon-footer03" data-v-92b8fc69></i><span data-v-92b8fc69>品质新鲜</span></a></div><div class="copyright" data-v-92b8fc69><p data-v-92b8fc69><a href="javascript:;" data-v-92b8fc69>关于我们</a><a href="javascript:;" data-v-92b8fc69>帮助中心</a><a href="javascript:;" data-v-92b8fc69>售后服务</a><a href="javascript:;" data-v-92b8fc69>配送与验收</a><a href="javascript:;" data-v-92b8fc69>商务合作</a><a href="javascript:;" data-v-92b8fc69>搜索推荐</a><a href="javascript:;" data-v-92b8fc69>友情链接</a></p><p data-v-92b8fc69>CopyRight © 小兔鲜儿</p></div></div></div>',2)]))}const Xt=L(Kt,[["render",At],["__scopeId","data-v-92b8fc69"]]),Ot={class:"container"},Wt={class:"app-header-nav"},Zt={class:"right"},Gt={__name:"LayoutFixed",setup(C){const{y:i}=at(window),m=M();return(l,u)=>{const e=w("RouterLink");return a(),s("div",{class:st(["app-header-sticky",c(i)>78?"show":""])},[t("div",Ot,[d(e,{class:"logo",to:"/"}),t("ul",Wt,[(a(!0),s(h,null,S(c(m).categoryList,y=>(a(),s("li",{class:"home",key:y.id},[d(e,{"active-class":"active",to:`/category/${y.id}`},{default:g(()=>[b(_(y.name),1)]),_:2},1032,["to"])]))),128))]),t("div",Zt,[d(e,{to:"/"},{default:g(()=>u[0]||(u[0]=[b("品牌")])),_:1}),d(e,{to:"/"},{default:g(()=>u[1]||(u[1]=[b("专题")])),_:1})])])],2)}}},Jt=L(Gt,[["__scopeId","data-v-4d40ea01"]]),ye=Object.assign({name:"LayoutPage"},{__name:"index",setup(C){const i=M();q(async()=>{const l=rt.service({lock:!0,text:"正在加载中😍😍😍",background:"rgba(0, 0, 0, 0.1)"});await i.getCategory(),l.close()});const m=ot();return B(()=>m.query.page,l=>{l==="无效地址"&&(P({message:"页面不存在，已自动跳转到首页",type:"warning",duration:2e3}),window.history.replaceState({},"","/"))}),q(()=>{console.log(window.location.host),console.log(m.query.page),m.query.page==="无效地址"&&(P({message:"页面不存在，已自动跳转到首页",type:"warning",duration:2e3}),window.history.replaceState({},"","/"))}),(l,u)=>{const e=w("RouterView");return a(),s(h,null,[d(Jt),d(ut),d(zt),d(e),d(Xt)],64)}}});export{ye as default};
