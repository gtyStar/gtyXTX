import{u as x,E as L}from"./user-CGr51xpN.js";import{E as S}from"./popover-Lvo7WaNa.js";import"./popper-k3iteU35.js";import{E}from"./button-n9TZ0O0_.js";import{_ as h,c as n,a as t,u as i,F as _,b as u,t as l,d as r,w as v,e as R,o as e,r as g,f as I,g as P,h as $,i as y,j,k as F,l as N,n as V,m as q,p as B}from"./index-FZQBJMJn.js";import{v as z}from"./loading-BKIraUNr.js";import{E as H}from"./empty-DQ9qKq5Z.js";import{u as C}from"./cartStore-BbUoendS.js";import{u as k}from"./category-C_4tyno3.js";import{E as D}from"./index-BGHaw4O7.js";import"./input-CN9yjUpw.js";import"./event-BB_Ol6Sd.js";import"./error-Cq9Fpw4b.js";import"./focus-trap-BsfkVvv7.js";import"./overlay-DvDIiPmO.js";import"./vnode-BT6-gTuw.js";import"./scroll-B3xVfw5t.js";const T={class:"app-topnav"},A={class:"container"},M={__name:"LayoutNav",setup(m){const s=x(),p=R(),c=()=>{s.clearUserInfo(),p.push("/login")};return(o,a)=>{const d=S;return e(),n("nav",T,[t("div",A,[t("ul",null,[i(s).userInfo.token?(e(),n(_,{key:0},[t("li",null,[t("a",{href:"javascript:;",onClick:a[0]||(a[0]=b=>o.$router.push("/"))},[a[4]||(a[4]=t("i",{class:"iconfont icon-user"},null,-1)),u(l(i(s).userInfo.nickname),1)])]),t("li",null,[r(d,{onConfirm:c,title:"确认退出吗?","confirm-button-text":"确认","cancel-button-text":"取消"},{reference:v(()=>a[5]||(a[5]=[t("a",{href:"javascript:;"},"退出登录",-1)])),_:1})]),t("li",null,[t("a",{href:"javascript:;",onClick:a[1]||(a[1]=b=>o.$router.push("/member/order"))},"我的订单")]),t("li",null,[t("a",{href:"javascript:;",onClick:a[2]||(a[2]=b=>o.$router.push("/member"))},"会员中心")])],64)):(e(),n(_,{key:1},[t("li",null,[t("a",{href:"javascript:;",onClick:a[3]||(a[3]=b=>o.$router.push("/login"))},"请先登录")]),a[6]||(a[6]=t("li",null,[t("a",{href:"javascript:;"},"帮助中心")],-1)),a[7]||(a[7]=t("li",null,[t("a",{href:"javascript:;"},"关于我们")],-1))],64))])])])}}},U=h(M,[["__scopeId","data-v-ca6713ac"]]),X={class:"cart"},K={class:"curr",href:"javascript:;"},O={class:"layer"},Z={key:0},G={class:"list"},J={alt:""},Q={class:"center"},W={class:"name ellipsis-2"},Y={class:"attr ellipsis"},tt={class:"right"},at={class:"price"},st={class:"count"},ot=["onClick"],et={class:"foot"},nt={class:"total"},ct={__name:"HeaderCart",setup(m){const s=C();return(p,c)=>{const o=g("RouterLink"),a=E,d=H,b=I("img-lazy"),w=z;return e(),n("div",X,[t("a",K,[c[1]||(c[1]=t("i",{class:"iconfont icon-cart"},null,-1)),t("em",null,l(i(s).allCount),1)]),t("div",O,[i(s).allCount?(e(),n("div",Z,[$((e(),n("div",G,[(e(!0),n(_,null,y(i(s).cartList,f=>(e(),n("div",{class:"item",key:f.id},[r(o,{to:`/detail/${f.id}`},{default:v(()=>[$(t("img",J,null,512),[[b,f.picture]]),t("div",Q,[t("p",W,l(f.name),1),t("p",Y,l(f.attrsText),1)]),t("div",tt,[t("p",at,"¥"+l(f.nowPrice),1),t("p",st,"x"+l(f.count),1)])]),_:2},1032,["to"]),t("i",{class:"iconfont icon-close-new",onClick:Ct=>i(s).delCart([f.skuId])},null,8,ot)]))),128))])),[[w,i(s).loading]]),t("div",et,[t("div",nt,[t("p",null,"共 "+l(i(s).allCount)+" 件商品",1),t("p",null,"¥ "+l(i(s).allPrice.toFixed(2)),1)]),r(a,{size:"large",type:"primary",onClick:c[0]||(c[0]=f=>p.$router.push("/cartlist"))},{default:v(()=>c[2]||(c[2]=[u("去购物车结算")])),_:1})])])):(e(),P(d,{key:1,description:"购物车列表为空"}))])])}}},rt=h(ct,[["__scopeId","data-v-a825d1cc"]]),it={class:"app-header"},dt={class:"container"},lt={class:"logo"},pt={class:"app-header-nav"},ft={__name:"LayoutHeader",setup(m){const s=k(),p=C();return j(()=>{p.getCartList()}),(c,o)=>{const a=g("RouterLink");return e(),n("header",it,[t("div",dt,[t("h1",lt,[r(a,{to:"/"},{default:v(()=>o[0]||(o[0]=[u("小兔鲜")])),_:1})]),t("ul",pt,[(e(!0),n(_,null,y(i(s).categoryList,d=>(e(),n("li",{class:"home",key:d.id},[r(a,{"active-class":"active",to:`/category/${d.id}`},{default:v(()=>[u(l(d.name),1)]),_:2},1032,["to"])]))),128))]),o[1]||(o[1]=t("div",{class:"search"},[t("i",{class:"iconfont icon-search"}),t("input",{type:"text",placeholder:"搜一搜"})],-1)),r(rt)])])}}},vt=h(ft,[["__scopeId","data-v-906584a7"]]),ut="/gtyXTX/assets/qrcode-orqZiaKR.jpg",_t={},mt={class:"app_footer"};function bt(m,s){return e(),n("footer",mt,s[0]||(s[0]=[F('<div class="contact" data-v-92b8fc69><div class="container" data-v-92b8fc69><dl data-v-92b8fc69><dt data-v-92b8fc69>客户服务</dt><dd data-v-92b8fc69><i class="iconfont icon-kefu" data-v-92b8fc69></i> 在线客服</dd><dd data-v-92b8fc69><i class="iconfont icon-question" data-v-92b8fc69></i> 问题反馈</dd></dl><dl data-v-92b8fc69><dt data-v-92b8fc69>关注我们</dt><dd data-v-92b8fc69><i class="iconfont icon-weixin" data-v-92b8fc69></i> 公众号</dd><dd data-v-92b8fc69><i class="iconfont icon-weibo" data-v-92b8fc69></i> 微博</dd></dl><dl data-v-92b8fc69><dt data-v-92b8fc69>下载APP</dt><dd class="qrcode" data-v-92b8fc69><img src="'+ut+'" data-v-92b8fc69></dd><dd class="download" data-v-92b8fc69><span data-v-92b8fc69>扫描二维码</span><span data-v-92b8fc69>立马下载APP</span><a href="javascript:;" data-v-92b8fc69>下载页面</a></dd></dl><dl data-v-92b8fc69><dt data-v-92b8fc69>服务热线</dt><dd class="hotline" data-v-92b8fc69>400-0000-000 <small data-v-92b8fc69>周一至周日 8:00-18:00</small></dd></dl></div></div><div class="extra" data-v-92b8fc69><div class="container" data-v-92b8fc69><div class="slogan" data-v-92b8fc69><a href="javascript:;" data-v-92b8fc69><i class="iconfont icon-footer01" data-v-92b8fc69></i><span data-v-92b8fc69>价格亲民</span></a><a href="javascript:;" data-v-92b8fc69><i class="iconfont icon-footer02" data-v-92b8fc69></i><span data-v-92b8fc69>物流快捷</span></a><a href="javascript:;" data-v-92b8fc69><i class="iconfont icon-footer03" data-v-92b8fc69></i><span data-v-92b8fc69>品质新鲜</span></a></div><div class="copyright" data-v-92b8fc69><p data-v-92b8fc69><a href="javascript:;" data-v-92b8fc69>关于我们</a><a href="javascript:;" data-v-92b8fc69>帮助中心</a><a href="javascript:;" data-v-92b8fc69>售后服务</a><a href="javascript:;" data-v-92b8fc69>配送与验收</a><a href="javascript:;" data-v-92b8fc69>商务合作</a><a href="javascript:;" data-v-92b8fc69>搜索推荐</a><a href="javascript:;" data-v-92b8fc69>友情链接</a></p><p data-v-92b8fc69>CopyRight © 小兔鲜儿</p></div></div></div>',2)]))}const ht=h(_t,[["render",bt],["__scopeId","data-v-92b8fc69"]]),gt={class:"container"},yt={class:"app-header-nav"},kt={class:"right"},$t={__name:"LayoutFixed",setup(m){const{y:s}=N(window),p=k();return(c,o)=>{const a=g("RouterLink");return e(),n("div",{class:V(["app-header-sticky",i(s)>78?"show":""])},[t("div",gt,[r(a,{class:"logo",to:"/"}),t("ul",yt,[(e(!0),n(_,null,y(i(p).categoryList,d=>(e(),n("li",{class:"home",key:d.id},[r(a,{"active-class":"active",to:`/category/${d.id}`},{default:v(()=>[u(l(d.name),1)]),_:2},1032,["to"])]))),128))]),t("div",kt,[r(a,{to:"/"},{default:v(()=>o[0]||(o[0]=[u("品牌")])),_:1}),r(a,{to:"/"},{default:v(()=>o[1]||(o[1]=[u("专题")])),_:1})])])],2)}}},jt=h($t,[["__scopeId","data-v-4d40ea01"]]),At=Object.assign({name:"LayoutPage"},{__name:"index",setup(m){const s=k();j(async()=>{const c=D.service({lock:!0,text:"正在加载中😍😍😍",background:"rgba(0, 0, 0, 0.1)"});await s.getCategory(),c.close()});const p=B();return q(()=>p.query.page,c=>{c==="无效地址"&&(L({message:"页面不存在，已自动跳转到首页",type:"warning",duration:2e3}),window.history.replaceState({},"","/"))}),(c,o)=>{const a=g("RouterView");return e(),n(_,null,[r(jt),r(U),r(vt),r(a),r(ht)],64)}}});export{At as default};
