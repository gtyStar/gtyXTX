import{b as $,_ as W,c as I,ag as F,F as se,i as R,n as ie,o as Y,a as ce,w as oe,V as ue,Q as q,e as G,Z as fe}from"./user-BlSoJ4sI.js";import{J as P,N as le,l as b,B,E as ve,ag as Q,h as M,o as z,w as O,i as de,a as N,s as y,u as f,M as x,L as me,T as ne,c as U,d as A,F as pe,m as J,G as he,O as be,ah as ge,k as ye,Q as Z,X as Se,g as K,y as j,V as we,ac as ze,K as ee,a2 as Ee}from"./index-DhLi9643.js";import{t as _e}from"./error-Cq9Fpw4b.js";import{u as ke}from"./input-BA7ekQb7.js";import{a as Te}from"./button-B1tUs0Mk.js";const L=4,Ce={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},He=({move:t,size:a,bar:l})=>({[l.size]:a,transform:`translate${l.axis}(${t}%)`}),X=Symbol("scrollbarContextKey"),Be=$({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),Le="Thumb",Me=P({__name:"thumb",props:Be,setup(t){const a=t,l=le(X),n=I("scrollbar");l||_e(Le,"can not inject scrollbar context");const s=b(),u=b(),v=b({}),m=b(!1);let h=!1,i=!1,r=se?document.onselectstart:null;const o=B(()=>Ce[a.vertical?"vertical":"horizontal"]),c=B(()=>He({size:a.size,move:a.move,bar:o.value})),p=B(()=>s.value[o.value.offset]**2/l.wrapElement[o.value.scrollSize]/a.ratio/u.value[o.value.offset]),g=d=>{var k;if(d.stopPropagation(),d.ctrlKey||[1,2].includes(d.button))return;(k=window.getSelection())==null||k.removeAllRanges(),E(d);const H=d.currentTarget;H&&(v.value[o.value.axis]=H[o.value.offset]-(d[o.value.client]-H.getBoundingClientRect()[o.value.direction]))},C=d=>{if(!u.value||!s.value||!l.wrapElement)return;const k=Math.abs(d.target.getBoundingClientRect()[o.value.direction]-d[o.value.client]),H=u.value[o.value.offset]/2,V=(k-H)*100*p.value/s.value[o.value.offset];l.wrapElement[o.value.scroll]=V*l.wrapElement[o.value.scrollSize]/100},E=d=>{d.stopImmediatePropagation(),h=!0,document.addEventListener("mousemove",w),document.addEventListener("mouseup",S),r=document.onselectstart,document.onselectstart=()=>!1},w=d=>{if(!s.value||!u.value||h===!1)return;const k=v.value[o.value.axis];if(!k)return;const H=(s.value.getBoundingClientRect()[o.value.direction]-d[o.value.client])*-1,V=u.value[o.value.offset]-k,re=(H-V)*100*p.value/s.value[o.value.offset];l.wrapElement[o.value.scroll]=re*l.wrapElement[o.value.scrollSize]/100},S=()=>{h=!1,v.value[o.value.axis]=0,document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",S),e(),i&&(m.value=!1)},D=()=>{i=!1,m.value=!!a.size},_=()=>{i=!0,m.value=h};ve(()=>{e(),document.removeEventListener("mouseup",S)});const e=()=>{document.onselectstart!==r&&(document.onselectstart=r)};return F(Q(l,"scrollbarElement"),"mousemove",D),F(Q(l,"scrollbarElement"),"mouseleave",_),(d,k)=>(z(),M(ne,{name:f(n).b("fade"),persisted:""},{default:O(()=>[de(N("div",{ref_key:"instance",ref:s,class:y([f(n).e("bar"),f(n).is(f(o).key)]),onMousedown:C},[N("div",{ref_key:"thumb",ref:u,class:y(f(n).e("thumb")),style:x(f(c)),onMousedown:g},null,38)],34),[[me,d.always||m.value]])]),_:1},8,["name"]))}});var te=W(Me,[["__file","thumb.vue"]]);const Ne=$({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),Pe=P({__name:"bar",props:Ne,setup(t,{expose:a}){const l=t,n=le(X),s=b(0),u=b(0),v=b(""),m=b(""),h=b(1),i=b(1);return a({handleScroll:c=>{if(c){const p=c.offsetHeight-L,g=c.offsetWidth-L;u.value=c.scrollTop*100/p*h.value,s.value=c.scrollLeft*100/g*i.value}},update:()=>{const c=n==null?void 0:n.wrapElement;if(!c)return;const p=c.offsetHeight-L,g=c.offsetWidth-L,C=p**2/c.scrollHeight,E=g**2/c.scrollWidth,w=Math.max(C,l.minSize),S=Math.max(E,l.minSize);h.value=C/(p-C)/(w/(p-w)),i.value=E/(g-E)/(S/(g-S)),m.value=w+L<p?`${w}px`:"",v.value=S+L<g?`${S}px`:""}}),(c,p)=>(z(),U(pe,null,[A(te,{move:s.value,ratio:i.value,size:v.value,always:c.always},null,8,["move","ratio","size","always"]),A(te,{move:u.value,ratio:h.value,size:m.value,vertical:"",always:c.always},null,8,["move","ratio","size","always"])],64))}});var Re=W(Pe,[["__file","bar.vue"]]);const Oe=$({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:ie([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},tabindex:{type:[String,Number],default:void 0},id:String,role:String,...ke(["ariaLabel","ariaOrientation"])}),xe={scroll:({scrollTop:t,scrollLeft:a})=>[t,a].every(R)},Ae="ElScrollbar",$e=P({name:Ae}),We=P({...$e,props:Oe,emits:xe,setup(t,{expose:a,emit:l}){const n=t,s=I("scrollbar");let u,v,m=0,h=0;const i=b(),r=b(),o=b(),c=b(),p=B(()=>{const e={};return n.height&&(e.height=Y(n.height)),n.maxHeight&&(e.maxHeight=Y(n.maxHeight)),[n.wrapStyle,e]}),g=B(()=>[n.wrapClass,s.e("wrap"),{[s.em("wrap","hidden-default")]:!n.native}]),C=B(()=>[s.e("view"),n.viewClass]),E=()=>{var e;r.value&&((e=c.value)==null||e.handleScroll(r.value),m=r.value.scrollTop,h=r.value.scrollLeft,l("scroll",{scrollTop:r.value.scrollTop,scrollLeft:r.value.scrollLeft}))};function w(e,d){ze(e)?r.value.scrollTo(e):R(e)&&R(d)&&r.value.scrollTo(e,d)}const S=e=>{R(e)&&(r.value.scrollTop=e)},D=e=>{R(e)&&(r.value.scrollLeft=e)},_=()=>{var e;(e=c.value)==null||e.update()};return J(()=>n.noresize,e=>{e?(u==null||u(),v==null||v()):({stop:u}=ce(o,_),v=F("resize",_))},{immediate:!0}),J(()=>[n.maxHeight,n.height],()=>{n.native||Z(()=>{var e;_(),r.value&&((e=c.value)==null||e.handleScroll(r.value))})}),he(X,be({scrollbarElement:i,wrapElement:r})),ge(()=>{r.value&&(r.value.scrollTop=m,r.value.scrollLeft=h)}),ye(()=>{n.native||Z(()=>{_()})}),Se(()=>_()),a({wrapRef:r,update:_,scrollTo:w,setScrollTop:S,setScrollLeft:D,handleScroll:E}),(e,d)=>(z(),U("div",{ref_key:"scrollbarRef",ref:i,class:y(f(s).b())},[N("div",{ref_key:"wrapRef",ref:r,class:y(f(g)),style:x(f(p)),tabindex:e.tabindex,onScroll:E},[(z(),M(we(e.tag),{id:e.id,ref_key:"resizeRef",ref:o,class:y(f(C)),style:x(e.viewStyle),role:e.role,"aria-label":e.ariaLabel,"aria-orientation":e.ariaOrientation},{default:O(()=>[j(e.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],46,["tabindex"]),e.native?K("v-if",!0):(z(),M(Re,{key:0,ref_key:"barRef",ref:c,always:e.always,"min-size":e.minSize},null,8,["always","min-size"]))],2))}});var De=W(We,[["__file","scrollbar.vue"]]);const Qe=oe(De),Ve=$({type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"},closable:Boolean,disableTransitions:Boolean,hit:Boolean,color:String,size:{type:String,values:ue},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),Fe={close:t=>t instanceof MouseEvent,click:t=>t instanceof MouseEvent},Ke=P({name:"ElTag"}),je=P({...Ke,props:Ve,emits:Fe,setup(t,{emit:a}){const l=t,n=Te(),s=I("tag"),u=B(()=>{const{type:i,hit:r,effect:o,closable:c,round:p}=l;return[s.b(),s.is("closable",c),s.m(i||"primary"),s.m(n.value),s.m(o),s.is("hit",r),s.is("round",p)]}),v=i=>{a("close",i)},m=i=>{a("click",i)},h=i=>{var r,o,c;(c=(o=(r=i==null?void 0:i.component)==null?void 0:r.subTree)==null?void 0:o.component)!=null&&c.bum&&(i.component.subTree.component.bum=null)};return(i,r)=>i.disableTransitions?(z(),U("span",{key:0,class:y(f(u)),style:x({backgroundColor:i.color}),onClick:m},[N("span",{class:y(f(s).e("content"))},[j(i.$slots,"default")],2),i.closable?(z(),M(f(G),{key:0,class:y(f(s).e("close")),onClick:ee(v,["stop"])},{default:O(()=>[A(f(q))]),_:1},8,["class","onClick"])):K("v-if",!0)],6)):(z(),M(ne,{key:1,name:`${f(s).namespace.value}-zoom-in-center`,appear:"",onVnodeMounted:h},{default:O(()=>[N("span",{class:y(f(u)),style:x({backgroundColor:i.color}),onClick:m},[N("span",{class:y(f(s).e("content"))},[j(i.$slots,"default")],2),i.closable?(z(),M(f(G),{key:0,class:y(f(s).e("close")),onClick:ee(v,["stop"])},{default:O(()=>[A(f(q))]),_:1},8,["class","onClick"])):K("v-if",!0)],6)]),_:3},8,["name"]))}});var Ie=W(je,[["__file","tag.vue"]]);const Je=oe(Ie),T=new Map;if(se){let t;document.addEventListener("mousedown",a=>t=a),document.addEventListener("mouseup",a=>{if(t){for(const l of T.values())for(const{documentHandler:n}of l)n(a,t);t=void 0}})}function ae(t,a){let l=[];return Ee(a.arg)?l=a.arg:fe(a.arg)&&l.push(a.arg),function(n,s){const u=a.instance.popperRef,v=n.target,m=s==null?void 0:s.target,h=!a||!a.instance,i=!v||!m,r=t.contains(v)||t.contains(m),o=t===v,c=l.length&&l.some(g=>g==null?void 0:g.contains(v))||l.length&&l.includes(m),p=u&&(u.contains(v)||u.contains(m));h||i||r||o||c||p||a.value(n,s)}}const Ze={beforeMount(t,a){T.has(t)||T.set(t,[]),T.get(t).push({documentHandler:ae(t,a),bindingFn:a.value})},updated(t,a){T.has(t)||T.set(t,[]);const l=T.get(t),n=l.findIndex(u=>u.bindingFn===a.oldValue),s={documentHandler:ae(t,a),bindingFn:a.value};n>=0?l.splice(n,1,s):l.push(s)},unmounted(t){T.delete(t)}};export{Ze as C,Qe as E,Je as a,Ve as t};
