import{_ as L,u as tt,c as n,a as t,b as d,F as y,d as h,t as f,e as u,w as b,f as K,o,r as R,g as st,h as C,i as F,j as w,k as x,l as E,m as k,n as U,p as M,q as at,v as et,E as B,s as ot,x as nt,y as it}from"./index-9VVZOSCR.js";import{E as rt}from"./popover-nKKu7aj-.js";import"./popper-BElQhIms.js";import{E as ct}from"./button-qZdn81V8.js";import{u as lt,E as dt}from"./search-DQr39tiN.js";import{v as A}from"./loading-CRmYP8Ov.js";import{E as X}from"./empty-C-VpbG3u.js";import{u as O}from"./cartStore-BQGQyXIM.js";import{u as z}from"./category-DiqskdYN.js";import{E as Z}from"./index-DAY1GCrj.js";import"./input-biWTKG9r.js";import"./event-BB_Ol6Sd.js";import"./error-Cq9Fpw4b.js";import"./focus-trap-RgcKtL94.js";import"./scroll-DGGHDpeW.js";import"./throttle-Ca__z-E0.js";import"./debounce-m5wOMj8m.js";import"./overlay-C8rqW3Og.js";import"./vnode-BGh9q8o5.js";const ut={class:"app-topnav"},vt={class:"container"},ft={__name:"LayoutNav",setup(S){const i=tt(),v=K(),c=()=>{i.clearUserInfo(),v.push("/login")};return(r,e)=>{const _=rt;return o(),n("nav",ut,[t("div",vt,[t("ul",null,[d(i).userInfo.token?(o(),n(y,{key:0},[t("li",null,[t("a",{href:"javascript:;",onClick:e[0]||(e[0]=g=>r.$router.push("/"))},[e[4]||(e[4]=t("i",{class:"iconfont icon-user"},null,-1)),h(f(d(i).userInfo.nickname),1)])]),t("li",null,[u(_,{onConfirm:c,title:"确认退出吗?","confirm-button-text":"确认","cancel-button-text":"取消"},{reference:b(()=>e[5]||(e[5]=[t("a",{href:"javascript:;"},"退出登录",-1)])),_:1})]),t("li",null,[t("a",{href:"javascript:;",onClick:e[1]||(e[1]=g=>r.$router.push("/member/order"))},"我的订单")]),t("li",null,[t("a",{href:"javascript:;",onClick:e[2]||(e[2]=g=>r.$router.push("/member"))},"会员中心")])],64)):(o(),n(y,{key:1},[t("li",null,[t("a",{href:"javascript:;",onClick:e[3]||(e[3]=g=>r.$router.push("/login"))},"请先登录")]),e[6]||(e[6]=t("li",null,[t("a",{href:"javascript:;"},"帮助中心")],-1)),e[7]||(e[7]=t("li",null,[t("a",{href:"javascript:;"},"关于我们")],-1))],64))])])])}}},pt=L(ft,[["__scopeId","data-v-ca6713ac"]]),_t={class:"cart"},ht={class:"curr",href:"javascript:;"},mt={key:0},yt={class:"layer"},bt={key:0},gt={class:"list"},kt={alt:""},$t={class:"center"},St={class:"name ellipsis-2"},Ct={class:"attr ellipsis"},wt={class:"right"},xt={class:"price"},Lt={class:"count"},jt=["onClick"],Et={class:"foot"},Rt={class:"total"},It={__name:"HeaderCart",setup(S){const i=O();return(v,c)=>{const r=R("RouterLink"),e=ct,_=X,g=st("img-lazy"),I=A;return o(),n("div",_t,[t("a",ht,[c[1]||(c[1]=t("i",{class:"iconfont icon-cart"},null,-1)),d(i).allCount!==0?(o(),n("em",mt,f(d(i).allCount),1)):C("",!0)]),t("div",yt,[d(i).allCount?(o(),n("div",bt,[w((o(),n("div",gt,[(o(!0),n(y,null,x(d(i).cartList,p=>(o(),n("div",{class:"item",key:p.id},[u(r,{to:`/detail/${p.id}`},{default:b(()=>[w(t("img",kt,null,512),[[g,p.picture]]),t("div",$t,[t("p",St,f(p.name),1),t("p",Ct,f(p.attrsText),1)]),t("div",wt,[t("p",xt,"¥"+f(p.nowPrice),1),t("p",Lt,"x"+f(p.count),1)])]),_:2},1032,["to"]),t("i",{class:"iconfont icon-close-new",onClick:m=>d(i).delCart([p.skuId])},null,8,jt)]))),128))])),[[I,d(i).loading]]),t("div",Et,[t("div",Rt,[t("p",null,"共 "+f(d(i).allCount)+" 件商品",1),t("p",null,"¥ "+f(d(i).allPrice.toFixed(2)),1)]),u(e,{size:"large",type:"primary",onClick:c[0]||(c[0]=p=>v.$router.push("/cartlist"))},{default:b(()=>c[2]||(c[2]=[h("去购物车结算")])),_:1})])])):(o(),F(_,{key:1,description:"购物车列表为空"}))])])}}},Pt=L(It,[["__scopeId","data-v-ef8af886"]]),Nt={class:"app-header"},Tt={class:"container"},qt={class:"logo"},Ht={class:"app-header-nav"},Ft={key:0,class:"show searchShow"},Mt={key:0,class:"history searchShow"},Bt=["onClick"],zt=["onClick"],Dt={key:0,class:"searchShow",style:{"text-align":"center"}},Kt={key:1,class:"think searchShow"},Ut={class:"searchShow"},At=["onClick"],Xt={__name:"LayoutHeader",setup(S){const i=z(),v=O();E(()=>{v.getCartList()});const c=U(),r=k(!0),e=()=>{const s=Z.service({lock:!0,text:"正在加载中😍😍😍",background:"rgba(0, 0, 0, 0.1)"});setTimeout(()=>{s.close()},200)};E(()=>{c.path==="/cartlist"?(r.value=!1,v.getCartList(),e()):r.value=!0}),M(()=>c.path,s=>{s==="/cartlist"?(r.value=!1,v.getCartList(),e()):r.value=!0});const{searchHistory:_,addSearchHistory:g,delSearchHistory:I}=lt(),p=K(),m=k(!1);document.addEventListener("click",s=>{[...s.target.classList].includes("searchShow")||(m.value=!1)});const P=k(!0),N=k(!1),$=k(""),T=k([]),q=k(!1);M(()=>$.value,s=>{m.value=!0,q.value=!0,setTimeout(()=>{q.value=!1},500),s===""?P.value=!0:P.value=!1,N.value=!1;const a=j=>{setTimeout(()=>{T.value=j},500)};s==="酒"?a(["酒","红酒","白酒"]):s==="数"?a(["数码","数据线"]):s==="数码"?a(["数码","数据线","耳机"]):s==="乐"?a(["乐器"]):s==="乐器"?a(["乐器","吉他"]):s==="头"||s==="头盔"?a(["头盔"]):s==="红"||s==="红酒"?a(["红酒"]):s==="白"||s==="白酒"?a(["白酒"]):s==="数据"||s==="数据线"?a(["数据线"]):s==="耳"||s==="耳机"?a(["耳机"]):s==="吉"||s==="吉他"?a(["吉他"]):(T.value=[],N.value=!0)});const G=["酒","红酒","白酒","数码","数据线","耳机","乐器","吉他","头盔"],H=s=>{G.includes(s)?(g(s),$.value=s,m.value=!1,p.push(`/category/sub/${s}`)):B.warning("未搜索到内容，换一个吧"),$.value=""},J=()=>{m.value=!1};return(s,a)=>{const j=R("RouterLink"),Q=X,W=A,Y=dt;return w((o(),n("header",Nt,[t("div",Tt,[t("h1",qt,[u(j,{to:"/"},{default:b(()=>a[4]||(a[4]=[h("小兔鲜")])),_:1})]),t("ul",Ht,[(o(!0),n(y,null,x(d(i).categoryList,l=>(o(),n("li",{class:"home",key:l.id},[u(j,{"active-class":"active",to:`/category/${l.id}`},{default:b(()=>[h(f(l.name),1)]),_:2},1032,["to"])]))),128))]),t("div",{class:"search searchShow",onClick:a[2]||(a[2]=l=>m.value=!0)},[a[7]||(a[7]=t("i",{class:"iconfont icon-search searchShow"},null,-1)),w(t("input",{class:"searchShow",type:"text",placeholder:"搜一搜",onKeyup:a[0]||(a[0]=at(l=>H($.value),["enter"])),"onUpdate:modelValue":a[1]||(a[1]=l=>$.value=l)},null,544),[[et,$.value]]),m.value?(o(),n("div",Ft,[P.value?(o(),n("div",Mt,[a[6]||(a[6]=t("div",{class:"searchShow",style:{height:"16px","line-height":"16px"}},"搜索历史",-1)),(o(!0),n(y,null,x(d(_),(l,D)=>(o(),n("div",{class:"historyItem searchShow",key:l},[t("span",{onClick:V=>H(l),class:"itemName searchShow"},f(l),9,Bt),t("i",{class:"iconfont icon-close-new del searchShow",onClick:V=>d(I)(D)},null,8,zt)]))),128)),d(_).length===0?(o(),n("div",Dt,a[5]||(a[5]=[h("还没有搜索记录哦😘😘~"),t("br",null,null,-1),h("去搜索吧！😁")]))):C("",!0)])):w((o(),n("div",Kt,[t("ul",Ut,[(o(!0),n(y,null,x(T.value,l=>(o(),n("li",{class:"searchShow",key:l,onClick:D=>H(l)},f(l),9,At))),128))]),N.value?(o(),F(Q,{key:0,class:"searchShow",description:"暂无搜索内容",style:{height:"180px"}})):C("",!0)])),[[W,q.value]])])):C("",!0)]),r.value?(o(),F(Pt,{key:0,onMouseenter:a[3]||(a[3]=l=>m.value=!1)})):C("",!0)])])),[[Y,J]])}}},Ot=L(Xt,[["__scopeId","data-v-24a357be"]]),Zt="/gtyXTX/assets/qrcode-orqZiaKR.jpg",Gt={},Jt={class:"app_footer"};function Qt(S,i){return o(),n("footer",Jt,i[0]||(i[0]=[ot('<div class="contact" data-v-92b8fc69><div class="container" data-v-92b8fc69><dl data-v-92b8fc69><dt data-v-92b8fc69>客户服务</dt><dd data-v-92b8fc69><i class="iconfont icon-kefu" data-v-92b8fc69></i> 在线客服</dd><dd data-v-92b8fc69><i class="iconfont icon-question" data-v-92b8fc69></i> 问题反馈</dd></dl><dl data-v-92b8fc69><dt data-v-92b8fc69>关注我们</dt><dd data-v-92b8fc69><i class="iconfont icon-weixin" data-v-92b8fc69></i> 公众号</dd><dd data-v-92b8fc69><i class="iconfont icon-weibo" data-v-92b8fc69></i> 微博</dd></dl><dl data-v-92b8fc69><dt data-v-92b8fc69>下载APP</dt><dd class="qrcode" data-v-92b8fc69><img src="'+Zt+'" data-v-92b8fc69></dd><dd class="download" data-v-92b8fc69><span data-v-92b8fc69>扫描二维码</span><span data-v-92b8fc69>立马下载APP</span><a href="javascript:;" data-v-92b8fc69>下载页面</a></dd></dl><dl data-v-92b8fc69><dt data-v-92b8fc69>服务热线</dt><dd class="hotline" data-v-92b8fc69>400-0000-000 <small data-v-92b8fc69>周一至周日 8:00-18:00</small></dd></dl></div></div><div class="extra" data-v-92b8fc69><div class="container" data-v-92b8fc69><div class="slogan" data-v-92b8fc69><a href="javascript:;" data-v-92b8fc69><i class="iconfont icon-footer01" data-v-92b8fc69></i><span data-v-92b8fc69>价格亲民</span></a><a href="javascript:;" data-v-92b8fc69><i class="iconfont icon-footer02" data-v-92b8fc69></i><span data-v-92b8fc69>物流快捷</span></a><a href="javascript:;" data-v-92b8fc69><i class="iconfont icon-footer03" data-v-92b8fc69></i><span data-v-92b8fc69>品质新鲜</span></a></div><div class="copyright" data-v-92b8fc69><p data-v-92b8fc69><a href="javascript:;" data-v-92b8fc69>关于我们</a><a href="javascript:;" data-v-92b8fc69>帮助中心</a><a href="javascript:;" data-v-92b8fc69>售后服务</a><a href="javascript:;" data-v-92b8fc69>配送与验收</a><a href="javascript:;" data-v-92b8fc69>商务合作</a><a href="javascript:;" data-v-92b8fc69>搜索推荐</a><a href="javascript:;" data-v-92b8fc69>友情链接</a></p><p data-v-92b8fc69>CopyRight © 小兔鲜儿</p></div></div></div>',2)]))}const Wt=L(Gt,[["render",Qt],["__scopeId","data-v-92b8fc69"]]),Yt={class:"container"},Vt={class:"app-header-nav"},ts={class:"right"},ss={__name:"LayoutFixed",setup(S){const{y:i}=nt(window),v=z();return(c,r)=>{const e=R("RouterLink");return o(),n("div",{class:it(["app-header-sticky",d(i)>78?"show":""])},[t("div",Yt,[u(e,{class:"logo",to:"/"}),t("ul",Vt,[(o(!0),n(y,null,x(d(v).categoryList,_=>(o(),n("li",{class:"home",key:_.id},[u(e,{"active-class":"active",to:`/category/${_.id}`},{default:b(()=>[h(f(_.name),1)]),_:2},1032,["to"])]))),128))]),t("div",ts,[u(e,{to:"/"},{default:b(()=>r[0]||(r[0]=[h("品牌")])),_:1}),u(e,{to:"/"},{default:b(()=>r[1]||(r[1]=[h("专题")])),_:1})])])],2)}}},as=L(ss,[["__scopeId","data-v-4d40ea01"]]),$s=Object.assign({name:"LayoutPage"},{__name:"index",setup(S){const i=z();E(async()=>{const c=Z.service({lock:!0,text:"正在加载中😍😍😍",background:"rgba(0, 0, 0, 0.1)"});await i.getCategory(),c.close()});const v=U();return M(()=>v.query.statu,c=>{c==="404"&&(B({message:"页面不存在，已自动跳转到首页",type:"warning",duration:2e3}),window.history.replaceState({},"","/"))}),E(()=>{v.query.statu==="404"&&(B({message:"页面不存在，已自动跳转到首页",type:"warning",duration:2e3}),window.history.replaceState({},"","/"))}),(c,r)=>{const e=R("RouterView");return o(),n(y,null,[u(as),u(pt),u(Ot),u(e),u(Wt)],64)}}});export{$s as default};
