import{h as P,u as M,E as w}from"./user-BC137cuC.js";import{E as R}from"./button-uLDmR9H9.js";import"./input-DmI0pN-8.js";import{E as U}from"./input-number-KrMzWT2V.js";import{_ as D,B as F,l as x,k as L,c as u,a as s,t as o,F as E,j as C,h as O,w as p,i as S,f as T,r as q,x as V,o as a,m as X,d as n,S as J,b as i,U as K,e as Q}from"./index-qCHW3Jq7.js";import{E as W,a as Y}from"./breadcrumb-item-B9SYE2x2.js";import{u as Z}from"./cartStore-C7OSUogJ.js";import"./loading-CFe_TgLU.js";import{E as ss}from"./overlay-CfSx2s20.js";import{E as B}from"./index-DW5OEkyr.js";import"./event-BB_Ol6Sd.js";import"./error-Cq9Fpw4b.js";import"./vnode-C2er81BT.js";import"./focus-trap-Dn91Dsdw.js";import"./scroll-DOX-sRye.js";const ts=_=>P({url:"/goods",params:{id:_}}),es=(_,r)=>P({url:"/goods/hot",params:{id:_,type:r,limit:3}}),os={class:"goods-hot"},ls={alt:""},ns={class:"name ellipsis"},as={class:"desc ellipsis"},is={class:"price"},us={__name:"DetailHot",props:{type:{type:Number,default:1}},setup(_){const r=_,e={1:"24å°æ—¶çƒ­æ¦œ",2:"å‘¨çƒ­æ¦œ"},v=F(()=>e[r.type]),m=V(),f=x([]),g=async()=>{const h=await es(m.params.id,r.type);f.value=h.result};return L(()=>{g()}),(h,I)=>{const b=q("RouterLink"),k=T("img-lazy");return a(),u("div",os,[s("h3",null,o(v.value),1),(a(!0),u(E,null,C(f.value,c=>(a(),O(b,{key:c.id,to:`/detail/${c.id}`,class:"goods-item"},{default:p(()=>[S(s("img",ls,null,512),[[k,c.picture]]),s("p",ns,o(c.name),1),s("p",as,o(c.desc),1),s("p",is,"Â¥"+o(c.price),1)]),_:2},1032,["to"]))),128))])}}},$=D(us,[["__scopeId","data-v-2ce27a1b"]]),rs={class:"xtx-goods-page"},cs={key:0,class:"container"},ds={class:"bread-container"},ps={class:"info-container"},_s={class:"goods-info"},ms={class:"media"},gs={class:"goods-sales"},vs={class:"spec"},fs={class:"g-name"},hs={class:"g-desc"},ys={class:"g-price"},bs={class:"goods-footer"},ks={class:"goods-article"},xs={class:"goods-tabs"},Es={class:"goods-detail"},Cs={class:"attrs"},Is={class:"dt"},ws={class:"dd"},Bs={class:"goods-aside"},$s={key:1,class:"loading"},Ps=Object.assign({name:"DetailPage"},{__name:"index",setup(_){const r=V(),e=x({}),v=async()=>{const l=await ts(r.params.id);e.value=l.result};L(async()=>{const l=B.service({lock:!0,text:"æ­£åœ¨åŠ è½½ä¸­ðŸ˜ðŸ˜ðŸ˜",background:"rgba(0, 0, 0, 0.1)"});await v(),l.close(),console.log(e.value)}),X(()=>r.params.id,async l=>{const t=B.service({lock:!0,text:"æ­£åœ¨åŠ è½½ä¸­ðŸ˜ðŸ˜ðŸ˜",background:"rgba(0, 0, 0, 0.1)"});await v(),t.close()});let m={};const f=l=>{console.log(l),m=l},g=x(1),h=l=>{l.value=l},I=Z(),b=M(),k=Q(),c=()=>{if(!b.userInfo.token){ss.confirm("è¦åŽ»ç™»å½•å—","æ‚¨è¿˜æ²¡æœ‰ç™»å½•å‘¢",{confirmButtonText:"åŽ»ç™»å½•",cancelButtonText:"å†é€›é€›",type:"warning"}).then(()=>{k.push({path:"/login",query:{path:r.fullPath}})}).catch(()=>{});return}m.skuId?(I.addCart({id:e.value.id,name:e.value.name,picture:e.value.mainPictures[0],price:e.value.price,count:g.value,skuId:m.skuId,attrsText:m.specsText,selected:!0}),w.success("åŠ å…¥è´­ç‰©è½¦æˆåŠŸ")):w.warning("è¯·é€‰æ‹©è§„æ ¼")};return(l,t)=>{const y=Y,z=W,N=J,j=K,A=U,G=R,H=T("img-lazy");return a(),u("div",rs,[e.value.categories?(a(),u("div",cs,[s("div",ds,[n(z,{separator:">"},{default:p(()=>[n(y,{to:{path:"/"}},{default:p(()=>t[1]||(t[1]=[i("é¦–é¡µ")])),_:1}),n(y,{to:{path:`/category/${e.value.categories[1].id}`}},{default:p(()=>[i(o(e.value.categories[1].name),1)]),_:1},8,["to"]),n(y,{to:{path:`/category/sub/${e.value.categories[0].id}`}},{default:p(()=>[i(o(e.value.categories[0].name),1)]),_:1},8,["to"]),n(y,null,{default:p(()=>[i(o(e.value.name),1)]),_:1})]),_:1})]),s("div",ps,[s("div",null,[s("div",_s,[s("div",ms,[n(N,{imageList:e.value.mainPictures},null,8,["imageList"]),s("ul",gs,[s("li",null,[t[2]||(t[2]=s("p",null,"é”€é‡äººæ°”",-1)),s("p",null,o(e.value.salesCount)+"+ ",1),t[3]||(t[3]=s("p",null,[s("i",{class:"iconfont icon-task-filling"}),i("é”€é‡äººæ°”")],-1))]),s("li",null,[t[4]||(t[4]=s("p",null,"å•†å“è¯„ä»·",-1)),s("p",null,o(e.value.commentCount)+"+",1),t[5]||(t[5]=s("p",null,[s("i",{class:"iconfont icon-comment-filling"}),i("æŸ¥çœ‹è¯„ä»·")],-1))]),s("li",null,[t[6]||(t[6]=s("p",null,"æ”¶è—äººæ°”",-1)),s("p",null,o(e.value.collectCount)+"+",1),t[7]||(t[7]=s("p",null,[s("i",{class:"iconfont icon-favorite-filling"}),i("æ”¶è—å•†å“")],-1))]),s("li",null,[t[8]||(t[8]=s("p",null,"å“ç‰Œä¿¡æ¯",-1)),s("p",null,o(e.value.brand.name),1),t[9]||(t[9]=s("p",null,[s("i",{class:"iconfont icon-dynamic-filling"}),i("å“ç‰Œä¸»é¡µ")],-1))])])]),s("div",vs,[s("p",fs,o(e.value.name),1),s("p",hs,o(e.value.desc),1),s("p",ys,[s("span",null,o(e.value.oldPrice),1),s("span",null,o(e.value.price),1)]),t[11]||(t[11]=s("div",{class:"g-service"},[s("dl",null,[s("dt",null,"ä¿ƒé”€"),s("dd",null,"12æœˆå¥½ç‰©æ”¾é€ï¼ŒAppé¢†åˆ¸è´­ä¹°ç›´é™120å…ƒ")]),s("dl",null,[s("dt",null,"æœåŠ¡"),s("dd",null,[s("span",null,"æ— å¿§é€€è´§"),s("span",null,"å¿«é€Ÿé€€æ¬¾"),s("span",null,"å…è´¹åŒ…é‚®"),s("a",{href:"javascript:;"},"äº†è§£è¯¦æƒ…")])])],-1)),n(j,{goods:e.value,onChange:f},null,8,["goods"]),n(A,{min:"1",modelValue:g.value,"onUpdate:modelValue":t[0]||(t[0]=d=>g.value=d),onChange:h},null,8,["modelValue"]),s("div",null,[n(G,{size:"large",class:"btn",onClick:c},{default:p(()=>t[10]||(t[10]=[i(" åŠ å…¥è´­ç‰©è½¦ ")])),_:1})])])]),s("div",bs,[s("div",ks,[s("div",xs,[t[12]||(t[12]=s("nav",null,[s("a",null,"å•†å“è¯¦æƒ…")],-1)),s("div",Es,[s("ul",Cs,[(a(!0),u(E,null,C(e.value.details.properties,d=>(a(),u("li",{key:d.value},[s("span",Is,o(d.name),1),s("span",ws,o(d.value),1)]))),128))]),(a(!0),u(E,null,C(e.value.details.pictures,d=>S((a(),u("img",{key:d,alt:""})),[[H,d]])),128))])])]),s("div",Bs,[n($,{type:1}),n($,{type:2})])])])])])):(a(),u("div",$s))])}}}),Os=D(Ps,[["__scopeId","data-v-7083a598"]]);export{Os as default};
