import{A as G,n as l,m as q,_ as $,q as z,l as M,p as O,c as f,a as N,e as m,w as g,j as U,h as w,b as F,F as H,k as J,o as n,i as S,d as C,t as V}from"./index-BfJbh7OG.js";import{E as K}from"./infinite-scroll-CFVE0ot1.js";import{E as Q,a as W}from"./tab-pane-WFIIRBMX.js";import{E as X,a as Y}from"./breadcrumb-item-By_zD4hU.js";import"./loading-5ltgedZH.js";import{G as Z}from"./GoodsItem-CBzT--wI.js";import{E as x}from"./index-BPQF7hLM.js";import"./error-Cq9Fpw4b.js";import"./scroll-BFjLET4I.js";import"./throttle-Ck6aZguk.js";import"./debounce-CAWm_-GQ.js";import"./strings-DjFkJEmx.js";import"./event-BB_Ol6Sd.js";import"./index-BatJwlBe.js";import"./vnode-Da4b0Cbm.js";const ee=r=>G({url:"/category/sub/filter",params:{id:r}}),B=r=>G({url:"/category/goods/temporary",method:"post",data:r}),te=()=>{const r=l([]);return{subCategoryFilterData:r,getSubCategoryFilter:async a=>{const c=x.service({lock:!0,text:"æ­£åœ¨åŠ è½½ä¸­ðŸ˜ðŸ˜ðŸ˜",background:"rgba(0, 0, 0, 0.1)"}),d=await ee(a);r.value=d.result,c.close()}}},ae=()=>{const r=q(),i=l([]),a=l({categoryId:r.params.id,page:1,pageSize:20,sortField:"publishTime"}),c=async()=>{const u=x.service({lock:!0,text:"æ­£åœ¨åŠ è½½ä¸­ðŸ˜ðŸ˜ðŸ˜",background:"rgba(0, 0, 0, 0.1)"});console.log(a.value);const L=await B(a.value);i.value=L.result.items,u.close()},d=u=>{a.value.sortField=u,a.value.page=1,c()},y=l(!1),v=l(!1);return{goodList:i,reqData:a,changeReqData:d,load:async()=>{v.value=!0,a.value.page++;const u=await B(a.value);i.value=[...i.value,...u.result.items],v.value=!1,u.result.items.length===0&&(y.value=!0)},disabled:y,loading:v,getGoodList:c}},oe={class:"container"},se={class:"bread-container"},le={class:"sub-container"},re=["infinite-scroll-disabled"],ne={key:1,class:"more"},ie={key:2,class:"more"},ue=Object.assign({name:"SubCategory"},{__name:"index",setup(r){const i=q(),{subCategoryFilterData:a,getSubCategoryFilter:c}=te(),{goodList:d,changeReqData:y,load:v,disabled:E,loading:u,getGoodList:L}=ae(),T=l("publishTime"),h=l({}),o=l([]),{searchGoods:t}=z(),p=l(!1),I=async e=>{p.value=!1,e==="é…’"?o.value=[...t.wine.red,...t.wine.white,...t.wine.other]:e==="çº¢é…’"?o.value=[...t.wine.red]:e==="ç™½é…’"?o.value=[...t.wine.white]:e==="æ•°ç "?o.value=[...t.digital.line,...t.digital.ear,...t.digital.other]:e==="æ•°æ®çº¿"?o.value=[...t.digital.line]:e==="è€³æœº"?o.value=[...t.digital.ear]:e==="ä¹å™¨"||e==="å‰ä»–"?o.value=[...t.music.guitar]:e==="å¤´ç›”"?o.value=[...t.helmet.helmets]:(p.value=!0,await c(e),await L(),h.value=a.value,o.value=d.value)},b=l(!1);M(()=>{b.value=!1;const e=x.service({lock:!0,text:"æ­£åœ¨åŠ è½½ä¸­ðŸ˜ðŸ˜ðŸ˜",background:"rgba(0, 0, 0, 0.1)"});I(i.params.id),setTimeout(()=>{e.close(),b.value=!0},500)}),O(()=>i.params.id,e=>{b.value=!1;const s=x.service({lock:!0,text:"æ­£åœ¨åŠ è½½ä¸­ðŸ˜ðŸ˜ðŸ˜",background:"rgba(0, 0, 0, 0.1)"});I(e),setTimeout(()=>{s.close(),b.value=!0},500)});const j=async()=>{await v(),o.value=d.value};return(e,s)=>{const k=Y,A=X,D=W,P=Q,R=K;return n(),f("div",oe,[N("div",se,[m(A,{separator:">"},{default:g(()=>[m(k,{to:{path:"/"}},{default:g(()=>s[2]||(s[2]=[C("é¦–é¡µ")])),_:1}),p.value?(n(),S(k,{key:0,to:{path:`/category/${h.value.parentId}`}},{default:g(()=>[C(V(h.value.parentName),1)]),_:1},8,["to"])):w("",!0),p.value?(n(),S(k,{key:1},{default:g(()=>[C(V(h.value.name),1)]),_:1})):(n(),S(k,{key:2},{default:g(()=>s[3]||(s[3]=[C("æœç´¢")])),_:1}))]),_:1})]),N("div",le,[m(P,{modelValue:T.value,"onUpdate:modelValue":s[0]||(s[0]=_=>T.value=_),onTabChange:s[1]||(s[1]=_=>F(y)(T.value))},{default:g(()=>[m(D,{label:"æœ€æ–°å•†å“",name:"publishTime"}),m(D,{label:"æœ€é«˜äººæ°”",name:"orderNum"}),m(D,{label:"è¯„è®ºæœ€å¤š",name:"evaluateNum"})]),_:1},8,["modelValue"]),b.value?U((n(),f("div",{key:0,class:"body","infinite-scroll-disabled":F(E)},[(n(!0),f(H,null,J(o.value,_=>(n(),S(Z,{key:_.id,goods:_},null,8,["goods"]))),128))],8,re)),[[R,p.value?j:()=>{}]]):w("",!0),F(u)?(n(),f("div",ne,"åŠ è½½ä¸­ã€‚ã€‚ã€‚ðŸ˜‚ðŸ˜‚")):w("",!0),F(E)?(n(),f("div",ie,"æ²¡æœ‰æ›´å¤šäº†ðŸ˜˜ðŸ˜˜")):w("",!0)])])}}}),Ce=$(ue,[["__scopeId","data-v-5b1c4131"]]);export{Ce as default};
