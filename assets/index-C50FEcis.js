import{_ as E,u as A,c as d,a as t,b as c,F as g,d as h,e as f,w as k,f as G,o as s,r as P,g as et,h as x,t as p,i as M,j as L,k as j,l as b,m as y,n as O,p as I,q as ot,s as dt,v as nt,E as B,x as it,y as rt,z as lt}from"./index-BwI_WuFf.js";import{E as ct}from"./popover-CdtXYo7z.js";import"./popper-BacCjLsx.js";import{E as ft}from"./button-XDCvOtWG.js";import{E as ut}from"./infinite-scroll-BEcWXQFJ.js";import{v as Z}from"./loading-DNXt4MqS.js";import{E as J}from"./empty-CygFYARi.js";import{u as Q}from"./cartStore-DkCdhw6V.js";import{u as D}from"./category-C4SUXllG.js";import{E as W}from"./index-DegdPWRy.js";import"./input-D-GZUF30.js";import"./event-BB_Ol6Sd.js";import"./error-Cq9Fpw4b.js";import"./focus-trap-CSV4YGj0.js";import"./scroll-WzIo7n00.js";import"./throttle-CaSV7ABr.js";import"./debounce-DNkFBk26.js";import"./overlay-C6XoO7gn.js";import"./vnode-Cby_yXLL.js";const vt={class:"app-topnav"},pt={class:"container"},_t={__name:"LayoutNav",setup(C){const n=A(),u=G(),i=()=>{n.clearUserInfo(),u.push("/login")};return(r,o)=>{const _=ct;return s(),d("nav",vt,[t("div",pt,[t("ul",null,[c(n).userInfo.token?(s(),d(g,{key:0},[t("li",null,[t("a",{href:"javascript:;",onClick:o[0]||(o[0]=$=>r.$router.push("/"))},o[4]||(o[4]=[t("i",{class:"iconfont icon-user"},null,-1),h("Gty")]))]),t("li",null,[f(_,{onConfirm:i,title:"确认退出吗?","confirm-button-text":"确认","cancel-button-text":"取消"},{reference:k(()=>o[5]||(o[5]=[t("a",{href:"javascript:;"},"退出登录",-1)])),_:1})]),t("li",null,[t("a",{href:"javascript:;",onClick:o[1]||(o[1]=$=>r.$router.push("/member/order"))},"我的订单")]),t("li",null,[t("a",{href:"javascript:;",onClick:o[2]||(o[2]=$=>r.$router.push("/member"))},"会员中心")])],64)):(s(),d(g,{key:1},[t("li",null,[t("a",{href:"javascript:;",onClick:o[3]||(o[3]=$=>r.$router.push("/login"))},"请先登录")]),o[6]||(o[6]=t("li",null,[t("a",{href:"javascript:;"},"帮助中心")],-1)),o[7]||(o[7]=t("li",null,[t("a",{href:"javascript:;"},"关于我们")],-1))],64))])])])}}},ht=E(_t,[["__scopeId","data-v-77d5b1da"]]),mt={class:"cart"},yt={class:"curr",href:"javascript:;"},gt={key:0},kt={class:"layer"},$t={key:0},St={class:"list"},Ct={alt:""},wt={class:"center"},xt={class:"name ellipsis-2"},Lt={class:"attr ellipsis"},jt={class:"right"},bt={class:"price"},Et={class:"count"},Rt=["onClick"],It={class:"foot"},Pt={class:"total"},Nt={__name:"HeaderCart",setup(C){const n=Q();return(u,i)=>{const r=P("RouterLink"),o=ft,_=J,$=et("img-lazy"),N=Z;return s(),d("div",mt,[t("a",yt,[i[1]||(i[1]=t("i",{class:"iconfont icon-cart"},null,-1)),c(n).allCount!==0?(s(),d("em",gt,p(c(n).allCount),1)):x("",!0)]),t("div",kt,[c(n).allCount?(s(),d("div",$t,[L((s(),d("div",St,[(s(!0),d(g,null,j(c(n).cartList,v=>(s(),d("div",{class:"item",key:v.id},[f(r,{to:`/detail/${v.id}`},{default:k(()=>[L(t("img",Ct,null,512),[[$,v.picture]]),t("div",wt,[t("p",xt,p(v.name),1),t("p",Lt,p(v.attrsText),1)]),t("div",jt,[t("p",bt,"¥"+p(v.nowPrice),1),t("p",Et,"x"+p(v.count),1)])]),_:2},1032,["to"]),t("i",{class:"iconfont icon-close-new",onClick:m=>c(n).delCart([v.skuId])},null,8,Rt)]))),128))])),[[N,c(n).loading]]),t("div",It,[t("div",Pt,[t("p",null,"共 "+p(c(n).allCount)+" 件商品",1),t("p",null,"¥ "+p(c(n).allPrice.toFixed(2)),1)]),f(o,{size:"large",type:"primary",onClick:i[0]||(i[0]=v=>u.$router.push("/cartlist"))},{default:k(()=>i[2]||(i[2]=[h("去购物车结算")])),_:1})])])):(s(),M(_,{key:1,description:"购物车列表为空"}))])])}}},Tt=E(Nt,[["__scopeId","data-v-ef8af886"]]),qt={class:"app-header"},Ht={class:"container"},zt={class:"logo"},Ft={class:"app-header-nav"},Mt={key:0,class:"show searchShow"},Bt={key:0,class:"history searchShow"},Dt=["onClick"],Kt=["onClick"],Ut={key:0,class:"searchShow",style:{"text-align":"center","padding-top":"10px","font-size":"14px"}},At={key:0},Gt={key:1},Ot={key:1,class:"think searchShow"},Zt={class:"searchShow"},Jt=["onClick"],Qt={__name:"LayoutHeader",setup(C){const n=D(),u=Q();b(()=>{u.getCartList()});const i=O(),r=y(!0),o=()=>{const a=W.service({lock:!0,text:"正在加载中😍😍😍",background:"rgba(0, 0, 0, 0.1)"});setTimeout(()=>{a.close()},200)};b(()=>{i.path==="/cartlist"?(r.value=!1,u.getCartList(),o()):r.value=!0}),I(()=>i.path,a=>{a==="/cartlist"?(r.value=!1,u.getCartList(),o()):r.value=!0});const{searchHistory:_,addSearchHistory:$,delSearchHistory:N}=ot(),v=G(),m=y(!1);document.addEventListener("click",a=>{[...a.target.classList].includes("searchShow")||(m.value=!1)});const T=y(!0),q=y(!1),S=y(""),H=y([]),z=y(!1);I(()=>S.value,a=>{m.value=!0,z.value=!0,setTimeout(()=>{z.value=!1},500),a===""?T.value=!0:T.value=!1,q.value=!1;const e=R=>{setTimeout(()=>{H.value=R},500)};a==="酒"?e(["酒","红酒","白酒"]):a==="数"?e(["数码","数据线"]):a==="数码"?e(["数码","数据线","耳机"]):a==="乐"?e(["乐器"]):a==="乐器"?e(["乐器","吉他"]):a==="头"||a==="头盔"?e(["头盔"]):a==="红"||a==="红酒"?e(["红酒"]):a==="白"||a==="白酒"?e(["白酒"]):a==="数据"||a==="数据线"?e(["数据线"]):a==="耳"||a==="耳机"?e(["耳机"]):a==="吉"||a==="吉他"?e(["吉他"]):(H.value=[],q.value=!0)});const X=["酒","红酒","白酒","数码","数据线","耳机","乐器","吉他","头盔"],F=a=>{X.includes(a)?($(a),S.value=a,m.value=!1,v.push(`/category/sub/${a}`)):B.warning("未搜索到内容，换一个吧"),S.value=""},Y=()=>{m.value=!1},K=A(),w=y(!1);return b(()=>{K.userInfo.token?w.value=!0:w.value=!1}),I(()=>i.path,()=>{K.userInfo.token?w.value=!0:w.value=!1}),(a,e)=>{const R=P("RouterLink"),V=J,tt=Z,at=ut;return L((s(),d("header",qt,[t("div",Ht,[t("h1",zt,[f(R,{to:"/"},{default:k(()=>e[4]||(e[4]=[h("小兔鲜")])),_:1})]),t("ul",Ft,[(s(!0),d(g,null,j(c(n).categoryList,l=>(s(),d("li",{class:"home",key:l.id},[f(R,{"active-class":"active",to:`/category/${l.id}`},{default:k(()=>[h(p(l.name),1)]),_:2},1032,["to"])]))),128))]),t("div",{class:"search searchShow",onClick:e[2]||(e[2]=l=>m.value=!0)},[e[7]||(e[7]=t("i",{class:"iconfont icon-search searchShow"},null,-1)),L(t("input",{class:"searchShow",type:"text",placeholder:"搜一搜",onKeyup:e[0]||(e[0]=dt(l=>F(S.value),["enter"])),"onUpdate:modelValue":e[1]||(e[1]=l=>S.value=l)},null,544),[[nt,S.value]]),m.value?(s(),d("div",Mt,[T.value?(s(),d("div",Bt,[e[6]||(e[6]=t("div",{class:"searchShow",style:{height:"16px","line-height":"16px"}},"搜索历史",-1)),(s(!0),d(g,null,j(c(_),(l,U)=>(s(),d("div",{class:"historyItem searchShow",key:l},[t("span",{onClick:st=>F(l),class:"itemName searchShow"},p(l),9,Dt),t("i",{class:"iconfont icon-close-new del searchShow",onClick:st=>c(N)(U)},null,8,Kt)]))),128)),c(_).length===0?(s(),d("div",Ut,[w.value?(s(),d("div",At,e[5]||(e[5]=[h("还没有搜索记录哦😘😘~"),t("br",null,null,-1),h("去搜索吧！😁")]))):(s(),d("div",Gt,"不登陆就没有搜索历史哦😂😂~"))])):x("",!0)])):L((s(),d("div",Ot,[t("ul",Zt,[(s(!0),d(g,null,j(H.value,l=>(s(),d("li",{class:"searchShow",key:l,onClick:U=>F(l)},p(l),9,Jt))),128))]),q.value?(s(),M(V,{key:0,class:"searchShow",description:"暂无搜索内容",style:{height:"180px"}})):x("",!0)])),[[tt,z.value]])])):x("",!0)]),r.value?(s(),M(Tt,{key:0,onMouseenter:e[3]||(e[3]=l=>m.value=!1)})):x("",!0)])])),[[at,Y]])}}},Wt=E(Qt,[["__scopeId","data-v-0b22bc7d"]]),Xt="/gty/assets/qrcode-orqZiaKR.jpg",Yt={},Vt={class:"app_footer"};function ta(C,n){return s(),d("footer",Vt,n[0]||(n[0]=[it('<div class="contact" data-v-f6d0ad2f><div class="container" data-v-f6d0ad2f><dl data-v-f6d0ad2f><dt data-v-f6d0ad2f>客户服务</dt><dd data-v-f6d0ad2f><i class="iconfont icon-kefu" data-v-f6d0ad2f></i> 在线客服</dd><dd data-v-f6d0ad2f><i class="iconfont icon-question" data-v-f6d0ad2f></i> 问题反馈</dd></dl><dl data-v-f6d0ad2f><dt data-v-f6d0ad2f>关注我们</dt><dd data-v-f6d0ad2f><i class="iconfont icon-weixin" data-v-f6d0ad2f></i> 公众号</dd><dd data-v-f6d0ad2f><i class="iconfont icon-weibo" data-v-f6d0ad2f></i> 微博</dd></dl><dl data-v-f6d0ad2f><dt data-v-f6d0ad2f>下载APP</dt><dd class="qrcode" data-v-f6d0ad2f><img src="'+Xt+'" data-v-f6d0ad2f></dd><dd class="download" data-v-f6d0ad2f><span data-v-f6d0ad2f>扫描二维码</span><span data-v-f6d0ad2f>立马下载APP</span><a href="javascript:;" data-v-f6d0ad2f>下载页面</a></dd></dl><dl data-v-f6d0ad2f><dt data-v-f6d0ad2f>服务热线</dt><dd class="hotline" data-v-f6d0ad2f>400-0000-000 <small data-v-f6d0ad2f>周一至周日 8:00-18:00</small></dd></dl></div></div><div class="extra" data-v-f6d0ad2f><div class="container" data-v-f6d0ad2f><div class="slogan" data-v-f6d0ad2f><a href="javascript:;" data-v-f6d0ad2f><i class="iconfont icon-footer01" data-v-f6d0ad2f></i><span data-v-f6d0ad2f>价格亲民</span></a><a href="javascript:;" data-v-f6d0ad2f><i class="iconfont icon-footer02" data-v-f6d0ad2f></i><span data-v-f6d0ad2f>物流快捷</span></a><a href="javascript:;" data-v-f6d0ad2f><i class="iconfont icon-footer03" data-v-f6d0ad2f></i><span data-v-f6d0ad2f>品质新鲜</span></a></div><div class="copyright" data-v-f6d0ad2f><p data-v-f6d0ad2f><a href="javascript:;" data-v-f6d0ad2f>关于我们</a><a href="javascript:;" data-v-f6d0ad2f>帮助中心</a><a href="javascript:;" data-v-f6d0ad2f>售后服务</a><a href="javascript:;" data-v-f6d0ad2f>配送与验收</a><a href="javascript:;" data-v-f6d0ad2f>商务合作</a><a href="javascript:;" data-v-f6d0ad2f>搜索推荐</a><a href="javascript:;" data-v-f6d0ad2f>友情链接</a></p><p data-v-f6d0ad2f>CopyRight © Gty</p></div></div></div>',2)]))}const aa=E(Yt,[["render",ta],["__scopeId","data-v-f6d0ad2f"]]),sa={class:"container"},ea={class:"app-header-nav"},oa={class:"right"},da={__name:"LayoutFixed",setup(C){const{y:n}=rt(window),u=D();return(i,r)=>{const o=P("RouterLink");return s(),d("div",{class:lt(["app-header-sticky",c(n)>78?"show":""])},[t("div",sa,[f(o,{class:"logo",to:"/"}),t("ul",ea,[(s(!0),d(g,null,j(c(u).categoryList,_=>(s(),d("li",{class:"home",key:_.id},[f(o,{"active-class":"active",to:`/category/${_.id}`},{default:k(()=>[h(p(_.name),1)]),_:2},1032,["to"])]))),128))]),t("div",oa,[f(o,{to:"/"},{default:k(()=>r[0]||(r[0]=[h("品牌")])),_:1}),f(o,{to:"/"},{default:k(()=>r[1]||(r[1]=[h("专题")])),_:1})])])],2)}}},na=E(da,[["__scopeId","data-v-9b2215af"]]),La=Object.assign({name:"LayoutPage"},{__name:"index",setup(C){const n=D();b(async()=>{const i=W.service({lock:!0,text:"正在加载中😍😍😍",background:"rgba(0, 0, 0, 0.1)"});await n.getCategory(),i.close()});const u=O();return I(()=>u.query.statu,i=>{i==="404"&&(B({message:"页面不存在，已自动跳转到首页",type:"warning",duration:2e3}),window.history.replaceState({},"","/"))}),b(()=>{u.query.statu==="404"&&(B({message:"页面不存在，已自动跳转到首页",type:"warning",duration:2e3}),window.history.replaceState({},"","/"))}),(i,r)=>{const o=P("RouterView");return s(),d(g,null,[f(na),f(ht),f(Wt),f(o),f(aa)],64)}}});export{La as default};
