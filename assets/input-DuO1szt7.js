import{b$ as ye,bM as Le,bT as st,bL as xe,b7 as Me,c0 as Re,b4 as rt,bV as lt,b6 as it,c1 as ut,aC as Be,G as we,D as He,J as q,bf as ct,ac as j,ab as Se,ai as dt,I as h,by as pt,P as $e,K as G,m as R,p as X,bo as ee,a7 as Ce,a6 as k,Q as ft,R as De,aF as vt,H as mt,S as Ee,ba as ht,c2 as gt,c3 as bt,ah as yt,L as xt,l as wt,bp as St,c as C,o as m,h as g,F as te,a as z,z as y,b as o,B as _,i as I,w as L,ad as U,V as M,ag as Ie,e as Ct,aI as Et,U as It,aA as Pt,t as W,$ as Pe,b1 as Te,a4 as Tt}from"./index-BMdpOTBl.js";import{U as ne,I as Ne,C as Fe}from"./event-BB_Ol6Sd.js";import{a as Nt,c as Ft,u as zt,f as kt}from"./button-B_Y6lG3l.js";import{d as ze}from"./error-Cq9Fpw4b.js";function Vt(e){return e}function Ot(e,a,s){switch(s.length){case 0:return e.call(a);case 1:return e.call(a,s[0]);case 2:return e.call(a,s[0],s[1]);case 3:return e.call(a,s[0],s[1],s[2])}return e.apply(a,s)}var At=800,Lt=16,Mt=Date.now;function Rt(e){var a=0,s=0;return function(){var n=Mt(),r=Lt-(n-s);if(s=n,r>0){if(++a>=At)return arguments[0]}else a=0;return e.apply(void 0,arguments)}}function Bt(e){return function(){return e}}var Ht=ye?function(e,a){return ye(e,"toString",{configurable:!0,enumerable:!1,value:Bt(a),writable:!0})}:Vt,$t=Rt(Ht),ke=Math.max;function Dt(e,a,s){return a=ke(a===void 0?e.length-1:a,0),function(){for(var n=arguments,r=-1,u=ke(n.length-a,0),i=Array(u);++r<u;)i[r]=n[a+r];r=-1;for(var l=Array(a+1);++r<a;)l[r]=n[r];return l[a]=s(i),Ot(e,this,l)}}var Kt=9007199254740991;function _t(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Kt}var Ut="[object Arguments]";function Ve(e){return Le(e)&&st(e)==Ut}var Ke=Object.prototype,Wt=Ke.hasOwnProperty,Gt=Ke.propertyIsEnumerable,_e=Ve(function(){return arguments}())?Ve:function(e){return Le(e)&&Wt.call(e,"callee")&&!Gt.call(e,"callee")};function Xt(e,a){for(var s=-1,n=a.length,r=e.length;++s<n;)e[r+s]=a[s];return e}var Oe=xe?xe.isConcatSpreadable:void 0;function Yt(e){return Me(e)||_e(e)||!!(Oe&&e&&e[Oe])}function Ue(e,a,s,n,r){var u=-1,i=e.length;for(s||(s=Yt),r||(r=[]);++u<i;){var l=e[u];a>0&&s(l)?a>1?Ue(l,a-1,s,n,r):Xt(r,l):r[r.length]=l}return r}function Jt(e){var a=e==null?0:e.length;return a?Ue(e,1):[]}function Qt(e){return $t(Dt(e,void 0,Jt),e+"")}function Zt(e,a){return e!=null&&a in Object(e)}function qt(e,a,s){a=Re(a,e);for(var n=-1,r=a.length,u=!1;++n<r;){var i=rt(a[n]);if(!(u=e!=null&&s(e,i)))break;e=e[i]}return u||++n!=r?u:(r=e==null?0:e.length,!!r&&_t(r)&&lt(i,r)&&(Me(e)||_e(e)))}function jt(e,a){return e!=null&&qt(e,a,Zt)}function en(e,a,s){for(var n=-1,r=a.length,u={};++n<r;){var i=a[n],l=it(e,i);s(l,i)&&ut(u,Re(i,e),l)}return u}function tn(e,a){return en(e,a,function(s,n){return jt(e,n)})}var nn=Qt(function(e,a){return e==null?{}:tn(e,a)});const an=()=>Be&&/firefox/i.test(window.navigator.userAgent);let S;const on={height:"0",visibility:"hidden",overflow:an()?"":"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},sn=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function rn(e){const a=window.getComputedStyle(e),s=a.getPropertyValue("box-sizing"),n=Number.parseFloat(a.getPropertyValue("padding-bottom"))+Number.parseFloat(a.getPropertyValue("padding-top")),r=Number.parseFloat(a.getPropertyValue("border-bottom-width"))+Number.parseFloat(a.getPropertyValue("border-top-width"));return{contextStyle:sn.map(i=>[i,a.getPropertyValue(i)]),paddingSize:n,borderSize:r,boxSizing:s}}function Ae(e,a=1,s){var n;S||(S=document.createElement("textarea"),document.body.appendChild(S));const{paddingSize:r,borderSize:u,boxSizing:i,contextStyle:l}=rn(e);l.forEach(([b,v])=>S==null?void 0:S.style.setProperty(b,v)),Object.entries(on).forEach(([b,v])=>S==null?void 0:S.style.setProperty(b,v,"important")),S.value=e.value||e.placeholder||"";let d=S.scrollHeight;const x={};i==="border-box"?d=d+u:i==="content-box"&&(d=d-r),S.value="";const f=S.scrollHeight-r;if(we(a)){let b=f*a;i==="border-box"&&(b=b+r+u),d=Math.max(b,d),x.minHeight=`${b}px`}if(we(s)){let b=f*s;i==="border-box"&&(b=b+r+u),d=Math.min(b,d)}return x.height=`${d}px`,(n=S.parentNode)==null||n.removeChild(S),S=void 0,x}const ln=He({ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical","undefined"]},ariaControls:String}),un=e=>nn(ln,e),cn=He({id:{type:String,default:void 0},size:dt,disabled:Boolean,modelValue:{type:j([String,Number,Object]),default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:j([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:Boolean,clearable:Boolean,showPassword:Boolean,showWordLimit:Boolean,suffixIcon:{type:Se},prefixIcon:{type:Se},containerRole:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:j([Object,Array,String]),default:()=>ct({})},autofocus:Boolean,rows:{type:Number,default:2},...un(["ariaLabel"])}),dn={[ne]:e=>q(e),input:e=>q(e),change:e=>q(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent},pn=["class","style"],fn=/^on[A-Z]/,vn=(e={})=>{const{excludeListeners:a=!1,excludeKeys:s}=e,n=h(()=>((s==null?void 0:s.value)||[]).concat(pn)),r=$e();return r?h(()=>{var u;return pt(Object.entries((u=r.proxy)==null?void 0:u.$attrs).filter(([i])=>!n.value.includes(i)&&!(a&&fn.test(i))))}):h(()=>({}))};function mn(e,{beforeFocus:a,afterFocus:s,beforeBlur:n,afterBlur:r}={}){const u=$e(),{emit:i}=u,l=G(),d=R(!1),x=v=>{Ce(a)&&a(v)||d.value||(d.value=!0,i("focus",v),s==null||s())},f=v=>{var w;Ce(n)&&n(v)||v.relatedTarget&&((w=l.value)!=null&&w.contains(v.relatedTarget))||(d.value=!1,i("blur",v),r==null||r())},b=()=>{var v,w;(v=l.value)!=null&&v.contains(document.activeElement)&&l.value!==document.activeElement||(w=e.value)==null||w.focus()};return X(l,v=>{v&&v.setAttribute("tabindex","-1")}),ee(l,"focus",x,!0),ee(l,"blur",f,!0),ee(l,"click",b,!0),{isFocused:d,wrapperRef:l,handleFocus:x,handleBlur:f}}const hn=e=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(e);function gn({afterComposition:e,emit:a}){const s=R(!1),n=l=>{a==null||a("compositionstart",l),s.value=!0},r=l=>{var d;a==null||a("compositionupdate",l);const x=(d=l.target)==null?void 0:d.value,f=x[x.length-1]||"";s.value=!hn(f)},u=l=>{a==null||a("compositionend",l),s.value&&(s.value=!1,k(()=>e(l)))};return{isComposing:s,handleComposition:l=>{l.type==="compositionend"?u(l):r(l)},handleCompositionStart:n,handleCompositionUpdate:r,handleCompositionEnd:u}}function bn(e){let a;function s(){if(e.value==null)return;const{selectionStart:r,selectionEnd:u,value:i}=e.value;if(r==null||u==null)return;const l=i.slice(0,Math.max(0,r)),d=i.slice(Math.max(0,u));a={selectionStart:r,selectionEnd:u,value:i,beforeTxt:l,afterTxt:d}}function n(){if(e.value==null||a==null)return;const{value:r}=e.value,{beforeTxt:u,afterTxt:i,selectionStart:l}=a;if(u==null||i==null||l==null)return;let d=r.length;if(r.endsWith(i))d=r.length-i.length;else if(r.startsWith(u))d=u.length;else{const x=u[l-1],f=r.indexOf(x,l-1);f!==-1&&(d=f+1)}e.value.setSelectionRange(d,d)}return[s,n]}const yn="ElInput",xn=De({name:yn,inheritAttrs:!1}),wn=De({...xn,props:cn,emits:dn,setup(e,{expose:a,emit:s}){const n=e,r=vt(),u=vn(),i=mt(),l=h(()=>[n.type==="textarea"?ae.b():c.b(),c.m(v.value),c.is("disabled",w.value),c.is("exceed",Qe.value),{[c.b("group")]:i.prepend||i.append,[c.m("prefix")]:i.prefix||n.prefixIcon,[c.m("suffix")]:i.suffix||n.suffixIcon||n.clearable||n.showPassword,[c.bm("suffix","password-clear")]:K.value&&J.value,[c.b("hidden")]:n.type==="hidden"},r.class]),d=h(()=>[c.e("wrapper"),c.is("focus",D.value)]),{form:x,formItem:f}=zt(),{inputId:b}=kt(n,{formItemContext:f}),v=Nt(),w=Ft(),c=Ee("input"),ae=Ee("textarea"),B=G(),E=G(),Y=R(!1),H=R(!1),oe=R(),$=G(n.inputStyle),T=h(()=>B.value||E.value),{wrapperRef:We,isFocused:D,handleFocus:Ge,handleBlur:Xe}=mn(T,{beforeFocus(){return w.value},afterBlur(){var t;n.validateEvent&&((t=f==null?void 0:f.validate)==null||t.call(f,"blur").catch(p=>ze()))}}),se=h(()=>{var t;return(t=x==null?void 0:x.statusIcon)!=null?t:!1}),V=h(()=>(f==null?void 0:f.validateState)||""),re=h(()=>V.value&&ht[V.value]),Ye=h(()=>H.value?gt:bt),Je=h(()=>[r.style]),le=h(()=>[n.inputStyle,$.value,{resize:n.resize}]),P=h(()=>yt(n.modelValue)?"":String(n.modelValue)),K=h(()=>n.clearable&&!w.value&&!n.readonly&&!!P.value&&(D.value||Y.value)),J=h(()=>n.showPassword&&!w.value&&!!P.value&&(!!P.value||D.value)),N=h(()=>n.showWordLimit&&!!n.maxlength&&(n.type==="text"||n.type==="textarea")&&!w.value&&!n.readonly&&!n.showPassword),Q=h(()=>P.value.length),Qe=h(()=>!!N.value&&Q.value>Number(n.maxlength)),Ze=h(()=>!!i.suffix||!!n.suffixIcon||K.value||n.showPassword||N.value||!!V.value&&se.value),[ie,ue]=bn(B);xt(E,t=>{if(qe(),!N.value||n.resize!=="both")return;const p=t[0],{width:F}=p.contentRect;oe.value={right:`calc(100% - ${F+15+6}px)`}});const O=()=>{const{type:t,autosize:p}=n;if(!(!Be||t!=="textarea"||!E.value))if(p){const F=Te(p)?p.minRows:void 0,ge=Te(p)?p.maxRows:void 0,be=Ae(E.value,F,ge);$.value={overflowY:"hidden",...be},k(()=>{E.value.offsetHeight,$.value=be})}else $.value={minHeight:Ae(E.value).minHeight}},qe=(t=>{let p=!1;return()=>{var F;if(p||!n.autosize)return;((F=E.value)==null?void 0:F.offsetParent)===null||(t(),p=!0)}})(O),A=()=>{const t=T.value,p=n.formatter?n.formatter(P.value):P.value;!t||t.value===p||(t.value=p)},Z=async t=>{ie();let{value:p}=t.target;if(n.formatter&&n.parser&&(p=n.parser(p)),!de.value){if(p===P.value){A();return}s(ne,p),s(Ne,p),await k(),A(),ue()}},ce=t=>{let{value:p}=t.target;n.formatter&&n.parser&&(p=n.parser(p)),s(Fe,p)},{isComposing:de,handleCompositionStart:pe,handleCompositionUpdate:fe,handleCompositionEnd:ve}=gn({emit:s,afterComposition:Z}),je=()=>{ie(),H.value=!H.value,setTimeout(ue)},et=()=>{var t;return(t=T.value)==null?void 0:t.focus()},tt=()=>{var t;return(t=T.value)==null?void 0:t.blur()},nt=t=>{Y.value=!1,s("mouseleave",t)},at=t=>{Y.value=!0,s("mouseenter",t)},me=t=>{s("keydown",t)},ot=()=>{var t;(t=T.value)==null||t.select()},he=()=>{s(ne,""),s(Fe,""),s("clear"),s(Ne,"")};return X(()=>n.modelValue,()=>{var t;k(()=>O()),n.validateEvent&&((t=f==null?void 0:f.validate)==null||t.call(f,"change").catch(p=>ze()))}),X(P,()=>A()),X(()=>n.type,async()=>{await k(),A(),O()}),wt(()=>{!n.formatter&&n.parser,A(),k(O)}),a({input:B,textarea:E,ref:T,textareaStyle:le,autosize:St(n,"autosize"),isComposing:de,focus:et,blur:tt,select:ot,clear:he,resizeTextarea:O}),(t,p)=>(m(),C("div",{class:y([o(l),{[o(c).bm("group","append")]:t.$slots.append,[o(c).bm("group","prepend")]:t.$slots.prepend}]),style:Pe(o(Je)),onMouseenter:at,onMouseleave:nt},[g(" input "),t.type!=="textarea"?(m(),C(te,{key:0},[g(" prepend slot "),t.$slots.prepend?(m(),C("div",{key:0,class:y(o(c).be("group","prepend"))},[_(t.$slots,"prepend")],2)):g("v-if",!0),z("div",{ref_key:"wrapperRef",ref:We,class:y(o(d))},[g(" prefix slot "),t.$slots.prefix||t.prefixIcon?(m(),C("span",{key:0,class:y(o(c).e("prefix"))},[z("span",{class:y(o(c).e("prefix-inner"))},[_(t.$slots,"prefix"),t.prefixIcon?(m(),I(o(M),{key:0,class:y(o(c).e("icon"))},{default:L(()=>[(m(),I(U(t.prefixIcon)))]),_:1},8,["class"])):g("v-if",!0)],2)],2)):g("v-if",!0),z("input",Ie({id:o(b),ref_key:"input",ref:B,class:o(c).e("inner")},o(u),{minlength:t.minlength,maxlength:t.maxlength,type:t.showPassword?H.value?"text":"password":t.type,disabled:o(w),readonly:t.readonly,autocomplete:t.autocomplete,tabindex:t.tabindex,"aria-label":t.ariaLabel,placeholder:t.placeholder,style:t.inputStyle,form:t.form,autofocus:t.autofocus,role:t.containerRole,onCompositionstart:o(pe),onCompositionupdate:o(fe),onCompositionend:o(ve),onInput:Z,onChange:ce,onKeydown:me}),null,16,["id","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus","role","onCompositionstart","onCompositionupdate","onCompositionend"]),g(" suffix slot "),o(Ze)?(m(),C("span",{key:1,class:y(o(c).e("suffix"))},[z("span",{class:y(o(c).e("suffix-inner"))},[!o(K)||!o(J)||!o(N)?(m(),C(te,{key:0},[_(t.$slots,"suffix"),t.suffixIcon?(m(),I(o(M),{key:0,class:y(o(c).e("icon"))},{default:L(()=>[(m(),I(U(t.suffixIcon)))]),_:1},8,["class"])):g("v-if",!0)],64)):g("v-if",!0),o(K)?(m(),I(o(M),{key:1,class:y([o(c).e("icon"),o(c).e("clear")]),onMousedown:It(o(Pt),["prevent"]),onClick:he},{default:L(()=>[Ct(o(Et))]),_:1},8,["class","onMousedown"])):g("v-if",!0),o(J)?(m(),I(o(M),{key:2,class:y([o(c).e("icon"),o(c).e("password")]),onClick:je},{default:L(()=>[(m(),I(U(o(Ye))))]),_:1},8,["class"])):g("v-if",!0),o(N)?(m(),C("span",{key:3,class:y(o(c).e("count"))},[z("span",{class:y(o(c).e("count-inner"))},W(o(Q))+" / "+W(t.maxlength),3)],2)):g("v-if",!0),o(V)&&o(re)&&o(se)?(m(),I(o(M),{key:4,class:y([o(c).e("icon"),o(c).e("validateIcon"),o(c).is("loading",o(V)==="validating")])},{default:L(()=>[(m(),I(U(o(re))))]),_:1},8,["class"])):g("v-if",!0)],2)],2)):g("v-if",!0)],2),g(" append slot "),t.$slots.append?(m(),C("div",{key:1,class:y(o(c).be("group","append"))},[_(t.$slots,"append")],2)):g("v-if",!0)],64)):(m(),C(te,{key:1},[g(" textarea "),z("textarea",Ie({id:o(b),ref_key:"textarea",ref:E,class:[o(ae).e("inner"),o(c).is("focus",o(D))]},o(u),{minlength:t.minlength,maxlength:t.maxlength,tabindex:t.tabindex,disabled:o(w),readonly:t.readonly,autocomplete:t.autocomplete,style:o(le),"aria-label":t.ariaLabel,placeholder:t.placeholder,form:t.form,autofocus:t.autofocus,rows:t.rows,role:t.containerRole,onCompositionstart:o(pe),onCompositionupdate:o(fe),onCompositionend:o(ve),onInput:Z,onFocus:o(Ge),onBlur:o(Xe),onChange:ce,onKeydown:me}),null,16,["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus","rows","role","onCompositionstart","onCompositionupdate","onCompositionend","onFocus","onBlur"]),o(N)?(m(),C("span",{key:0,style:Pe(oe.value),class:y(o(c).e("count"))},W(o(Q))+" / "+W(t.maxlength),7)):g("v-if",!0)],64))],38))}});var Sn=ft(wn,[["__file","input.vue"]]);const Nn=Tt(Sn);export{Nn as E,gn as a,Ue as b,Vt as c,mn as d,Xt as e,_t as f,_e as g,jt as h,an as i,nn as p,un as u};
