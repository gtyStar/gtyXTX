import"./user-DgbkPqYO.js";import{v as w}from"./loading-C8Ow5BjT.js";import{_ as j,p,j as _,m as I,c as e,a as t,b as o,h as c,t as u,u as k,k as P,o as i}from"./index-CjttS2mS.js";import{g as U}from"./pay-DyKRtcSm.js";import{u as D}from"./useCountDown-BbCs3Z7u.js";const R={class:"xtx-pay-page"},$={class:"container"},h={class:"pay-info"},q={class:"tip"},B={class:"amount"},L="http://pcapi-xiaotuxian-front-devtest.itheima.net/",N=Object.assign({name:"PayPage"},{__name:"index",setup(V){const r=I(),l=p({}),s=p(!0),v=async()=>{s.value=!0;const n=await U(r.query.id);l.value=n.result,y(n.result.countdown),s.value=!1};_(()=>{v()});const{formatTime:m,start:y}=D(),b=`http://${window.location.host}/paycallback`,x=encodeURIComponent(b),g=`${L}pay/aliPay?orderId=${r.query.id}&redirect=${x}`;return console.log(window.location.host),(n,a)=>{var f;const d=w;return i(),e("div",R,[t("div",$,[t("div",h,[a[4]||(a[4]=t("span",{class:"icon iconfont icon-queren2"},null,-1)),t("div",q,[a[2]||(a[2]=t("p",null,"订单提交成功！请尽快完成支付。",-1)),t("p",null,[a[0]||(a[0]=o("支付还剩 ")),c((i(),e("span",null,[o(u(k(m)),1)])),[[d,s.value]]),a[1]||(a[1]=o(", 超时后将取消订单"))])]),t("div",B,[a[3]||(a[3]=t("span",null,"应付总额：",-1)),c((i(),e("span",null,[o("¥"+u((f=l.value.payMoney)==null?void 0:f.toFixed(2)),1)])),[[d,s.value]])])]),t("div",{class:"pay-type"},[a[7]||(a[7]=t("p",{class:"head"},"选择以下支付方式付款",-1)),t("div",{class:"item"},[a[5]||(a[5]=t("p",null,"支付平台",-1)),a[6]||(a[6]=t("a",{class:"btn wx",href:"javascript:;"},null,-1)),t("a",{class:"btn alipay",href:g})]),a[8]||(a[8]=P('<div class="item" data-v-9f8f8f18><p data-v-9f8f8f18>支付方式</p><a class="btn" href="javascript:;" data-v-9f8f8f18>招商银行</a><a class="btn" href="javascript:;" data-v-9f8f8f18>工商银行</a><a class="btn" href="javascript:;" data-v-9f8f8f18>建设银行</a><a class="btn" href="javascript:;" data-v-9f8f8f18>农业银行</a><a class="btn" href="javascript:;" data-v-9f8f8f18>交通银行</a></div>',1))])])])}}}),A=j(N,[["__scopeId","data-v-9f8f8f18"]]);export{A as default};
