import{u as C}from"./category-C4SUXllG.js";import{_ as v,c as l,a as t,F as h,k as g,b as R,r as b,g as y,o as n,e as i,w as u,d as L,t as r,i as f,j as k,A as x,m as $,l as w,B as S,q as z,p as B,h as N}from"./index-BwI_WuFf.js";import{E,a as A}from"./carousel-item-CRvbTLsE.js";import"./loading-DNXt4MqS.js";import{E as j}from"./index-DegdPWRy.js";import{G}from"./GoodsItem-Bgt3gn-9.js";import"./index-CcWTXGa1.js";import"./vnode-Cby_yXLL.js";import"./event-BB_Ol6Sd.js";import"./throttle-CaSV7ABr.js";import"./debounce-DNkFBk26.js";const V={class:"home-category"},q={class:"menu"},D={class:"layer"},M={alt:""},T={class:"info"},F={class:"name ellipsis-2"},O={class:"desc ellipsis"},U={class:"price"},J={__name:"HomeCategory",setup(d){const s=C();return(c,o)=>{const _=b("RouterLink"),m=y("img-lazy");return n(),l("div",V,[t("ul",q,[(n(!0),l(h,null,g(R(s).categoryList,a=>(n(),l("li",{key:a.id},[i(_,{to:"/"},{default:u(()=>[L(r(a.name),1)]),_:2},1024),(n(!0),l(h,null,g(a.children.splice(0,2),e=>(n(),f(_,{key:e,to:"/"},{default:u(()=>[L(r(e.name),1)]),_:2},1024))),128)),t("div",D,[o[1]||(o[1]=t("h4",null,[L("分类推荐 "),t("small",null,"根据您的购买或浏览记录推荐")],-1)),t("ul",null,[(n(!0),l(h,null,g(a.goods,e=>(n(),l("li",{key:e.id},[i(_,{to:`/detail/${e.id}`},{default:u(()=>[k(t("img",M,null,512),[[m,e.picture]]),t("div",T,[t("p",F,r(e.name),1),t("p",O,r(e.desc),1),t("p",U,[o[0]||(o[0]=t("i",null,"¥",-1)),L(r(e.price),1)])])]),_:2},1032,["to"])]))),128))])])]))),128))])])}}},K=v(J,[["__scopeId","data-v-3792e7a8"]]);function Q(d){return x({url:"/home/banner",params:{distributionSite:d}})}function W(){return x({url:"/home/new"})}const X=()=>x({url:"/home/hot"}),Y=()=>x({url:"/home/goods"}),Z={class:"home-banner"},ee={alt:""},te={__name:"HomeBanner",setup(d){const s=$([]),c=async()=>{const o=j.service({lock:!0,text:"正在加载中😍😍😍",background:"rgba(0, 0, 0, 0.1)"}),_=await Q("1");s.value=_.result,o.close()};return w(()=>{c()}),(o,_)=>{const m=A,a=E,e=y("img-lazy");return n(),l("div",Z,[i(a,{height:"500px"},{default:u(()=>[(n(!0),l(h,null,g(s.value,p=>(n(),f(m,{key:p.id},{default:u(()=>[k(t("img",ee,null,512),[[e,p.imgUrl]])]),_:2},1024))),128))]),_:1})])}}},se=v(te,[["__scopeId","data-v-0e142748"]]),oe={class:"home-panel"},ne={class:"container"},ae={class:"head"},le={__name:"HomePanel",props:{title:{type:String},subTitle:{type:String}},setup(d){return(s,c)=>(n(),l("div",oe,[t("div",ne,[t("div",ae,[t("h3",null,[L(r(d.title),1),t("small",null,r(d.subTitle),1)])]),t("div",null,[S(s.$slots,"default",{},void 0,!0)])])]))}},I=v(le,[["__scopeId","data-v-269d706a"]]),ce={class:"goods-list"},re={alt:""},ie={class:"name"},ue={class:"price"},_e={__name:"HomeNew",setup(d){const s=$([]),c=async()=>{const o=await W();s.value=o.result};return w(()=>{c()}),(o,_)=>{const m=b("RouterLink"),a=y("img-lazy");return n(),f(I,{title:"新鲜好物","sub-title":"新鲜出炉 品质靠谱"},{default:u(()=>[t("ul",ce,[(n(!0),l(h,null,g(s.value,e=>(n(),l("li",{key:e.id},[i(m,{to:`/detail/${e.id}`},{default:u(()=>[k(t("img",re,null,512),[[a,e.picture]]),t("p",ie,r(e.name),1),t("p",ue,"¥"+r(e.price),1)]),_:2},1032,["to"])]))),128))])]),_:1})}}},de=v(_e,[["__scopeId","data-v-e455d516"]]),me={class:"goods-list"},pe={alt:""},he={class:"name"},ge={class:"desc"},ve={__name:"HomeHot",setup(d){const s=$([]);return(async()=>{const o=await X();s.value=o.result})(),(o,_)=>{const m=b("RouterLink"),a=y("img-lazy");return n(),f(I,{title:"人气推荐","sub-title":"人气爆款 不容错过"},{default:u(()=>[t("ul",me,[(n(!0),l(h,null,g(s.value,e=>(n(),l("li",{key:e.id},[i(m,{to:"/"},{default:u(()=>[k(t("img",pe,null,512),[[a,e.picture]]),t("p",he,r(e.title),1),t("p",ge,r(e.alt),1)]),_:2},1024)]))),128))])]),_:1})}}},fe=v(ve,[["__scopeId","data-v-f6b6014f"]]),ye={class:"home-product"},ke={class:"box"},$e={class:"label"},Le={class:"goods-list"},be={__name:"HomeProduct",setup(d){const s=$([]),c=async()=>{const o=await Y();s.value=o.result,console.log(s.value)};return w(()=>{c()}),(o,_)=>{const m=b("RouterLink"),a=y("img-lazy");return n(),l("div",ye,[(n(!0),l(h,null,g(s.value,e=>(n(),f(I,{title:e.name,key:e.id},{default:u(()=>[t("div",ke,[i(m,{class:"cover",to:`/category/${e.id}`},{default:u(()=>[k(t("img",null,null,512),[[a,e.picture]]),t("strong",$e,[t("span",null,r(e.name)+"馆",1),t("span",null,r(e.saleInfo),1)])]),_:2},1032,["to"]),t("ul",Le,[(n(!0),l(h,null,g(e.goods,p=>(n(),l("li",{key:p.id},[i(G,{goods:p},null,8,["goods"])]))),128))])])]),_:2},1032,["title"]))),128))])}}},we=v(be,[["__scopeId","data-v-6bfa139f"]]),He={class:"goods-list"},xe={alt:""},Ie={class:"name"},ze={__name:"HomeLike",setup(d){const{searchGoods:s,searchHistory:c}=z(),o=$([]),_=a=>{let e=[];if(a.length<4)return document.querySelector(".goods-list").style.justifyContent="flex-start",a;for(document.querySelector(".goods-list").style.justifyContent="space-between";e.length<4;){const p=Math.floor(Math.random()*a.length);e.includes(a[p])||e.push(a[p])}return[...e]},m=()=>{const a=c[0];if(a)switch(a){case"酒":console.log("case"),o.value=[...s.wine.red,...s.wine.white,...s.wine.other];break;case"红酒":o.value=[...s.wine.red];break;case"白酒":o.value=[...s.wine.white];break;case"数码":o.value=[...s.digital.line,...s.digital.ear,...s.digital.other];break;case"数据线":o.value=[...s.digital.line];break;case"耳机":o.value=[...s.digital.ear];break;case"乐器":o.value=[...s.music.guitar];break;case"吉他":o.value=[...s.music.guitar];break;case"头盔":o.value=[...s.helmet.helmets];break}o.value=_(o.value),console.log(o.value)};return w(()=>{m()}),(a,e)=>{const p=b("RouterLink"),P=y("img-lazy");return n(),f(I,{title:"猜你喜欢","sub-title":"根据您最新一次搜索生成"},{default:u(()=>[t("ul",He,[(n(!0),l(h,null,g(o.value,H=>(n(),l("li",{key:H.id},[i(p,{to:`/detail/${H.id}`},{default:u(()=>[k(t("img",xe,null,512),[[P,H.picture]]),t("p",Ie,r(H.name),1)]),_:2},1032,["to"])]))),128))])]),_:1})}}},Pe=v(ze,[["__scopeId","data-v-da942704"]]),Ce={class:"container"},Me=Object.assign({name:"HomePage"},{__name:"index",setup(d){const{searchHistory:s}=z(),c=$(!1);return w(()=>{s.length===0?c.value=!1:c.value=!0}),B(s,()=>{s.length===0?c.value=!1:c.value=!0}),(o,_)=>(n(),l(h,null,[t("div",Ce,[i(K),i(se)]),c.value?(n(),f(Pe,{key:0})):N("",!0),i(de),i(fe),i(we)],64))}});export{Me as default};
