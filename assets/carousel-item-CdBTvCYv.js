import{A as He,l as g,B as $,u as e,C as Le,m as W,D as Oe,k as he,E as Pe,G as Ve,H as ze,I as ge,J as Z,c as D,o as A,h as ce,g as F,a as O,w as Q,i as Y,K as J,s as P,d as X,L as q,T as ve,y as pe,M as ye,F as De,j as Re,t as Ge,N as je,O as Fe,P as Ke}from"./index-qCHW3Jq7.js";import{b as Ce,i as Ue,a as We,_ as Ie,c as _e,d as Je,e as fe,f as Xe,g as Ye,j as qe,w as Qe,k as Ze}from"./user-BC137cuC.js";import{u as xe}from"./index-C5Ls88mY.js";import{f as et}from"./vnode-C2er81BT.js";import{C as tt}from"./event-BB_Ol6Sd.js";import{t as de}from"./throttle-BDh9mtO1.js";const at=Ce({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,values:["hover","click"],default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:["","none","outside"],default:""},arrow:{type:String,values:["always","hover","never"],default:"hover"},type:{type:String,values:["","card"],default:""},cardScale:{type:Number,default:.83},loop:{type:Boolean,default:!0},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},pauseOnHover:{type:Boolean,default:!0},motionBlur:Boolean}),st={change:(a,u)=>[a,u].every(Ue)},we=Symbol("carouselContextKey"),le="ElCarouselItem",me=300,lt=(a,u,p)=>{const{children:l,addChild:H,removeChild:y}=xe(ge(),le),b=He(),s=g(-1),C=g(null),w=g(!1),v=g(),k=g(0),_=g(!0),f=g(!0),I=g(!1),R=$(()=>a.arrow!=="never"&&!e(T)),V=$(()=>l.value.some(t=>t.props.label.toString().length>0)),N=$(()=>a.type==="card"),T=$(()=>a.direction==="vertical"),o=$(()=>a.height!=="auto"?{height:a.height}:{height:`${k.value}px`,overflow:"hidden"}),n=de(t=>{M(t)},me,{trailing:!0}),d=de(t=>{z(t)},me),m=t=>_.value?s.value<=1?t<=1:t>1:!0;function h(){C.value&&(clearInterval(C.value),C.value=null)}function E(){a.interval<=0||!a.autoplay||C.value||(C.value=setInterval(()=>S(),a.interval))}const S=()=>{f.value||(I.value=!0),f.value=!1,s.value<l.value.length-1?s.value=s.value+1:a.loop?s.value=0:I.value=!1};function M(t){if(f.value||(I.value=!0),f.value=!1,Le(t)){const L=l.value.filter(j=>j.props.name===t);L.length>0&&(t=l.value.indexOf(L[0]))}if(t=Number(t),Number.isNaN(t)||t!==Math.floor(t))return;const i=l.value.length,B=s.value;t<0?s.value=a.loop?i-1:0:t>=i?s.value=a.loop?0:i-1:s.value=t,B===s.value&&r(B),ne()}function r(t){l.value.forEach((i,B)=>{i.translateItem(B,s.value,t)})}function K(t,i){var B,L,j,re;const U=e(l),ie=U.length;if(ie===0||!t.states.inStage)return!1;const Ee=i+1,Me=i-1,ue=ie-1,Ne=U[ue].states.active,Be=U[0].states.active,Ae=(L=(B=U[Ee])==null?void 0:B.states)==null?void 0:L.active,$e=(re=(j=U[Me])==null?void 0:j.states)==null?void 0:re.active;return i===ue&&Be||Ae?"left":i===0&&Ne||$e?"right":!1}function x(){w.value=!0,a.pauseOnHover&&h()}function ee(){w.value=!1,E()}function te(){I.value=!1}function c(t){e(T)||l.value.forEach((i,B)=>{t===K(i,B)&&(i.states.hover=!0)})}function oe(){e(T)||l.value.forEach(t=>{t.states.hover=!1})}function G(t){t!==s.value&&(f.value||(I.value=!0)),s.value=t}function z(t){a.trigger==="hover"&&t!==s.value&&(s.value=t,f.value||(I.value=!0))}function ae(){M(s.value-1)}function be(){M(s.value+1)}function ne(){h(),a.pauseOnHover||E()}function ke(t){a.height==="auto"&&(k.value=t)}function Te(){var t;const i=(t=b.default)==null?void 0:t.call(b);if(!i)return null;const L=et(i).filter(j=>ze(j)&&j.type.name===le);return(L==null?void 0:L.length)===2&&a.loop&&!N.value?(_.value=!0,L):(_.value=!1,null)}W(()=>s.value,(t,i)=>{r(i),_.value&&(t=t%2,i=i%2),i>-1&&u(tt,t,i)}),W(()=>a.autoplay,t=>{t?E():h()}),W(()=>a.loop,()=>{M(s.value)}),W(()=>a.interval,()=>{ne()});const se=Oe();return he(()=>{W(()=>l.value,()=>{l.value.length>0&&M(a.initialIndex)},{immediate:!0}),se.value=We(v.value,()=>{r()}),E()}),Pe(()=>{h(),v.value&&se.value&&se.value.stop()}),Ve(we,{root:v,isCardType:N,isVertical:T,items:l,loop:a.loop,cardScale:a.cardScale,addItem:H,removeItem:y,setActiveItem:M,setContainerHeight:ke}),{root:v,activeIndex:s,arrowDisplay:R,hasLabel:V,hover:w,isCardType:N,isTransitioning:I,items:l,isVertical:T,containerStyle:o,isItemsTwoLength:_,handleButtonEnter:c,handleTransitionEnd:te,handleButtonLeave:oe,handleIndicatorClick:G,handleMouseEnter:x,handleMouseLeave:ee,setActiveItem:M,prev:ae,next:be,PlaceholderItem:Te,isTwoLengthShow:m,throttledArrowClick:n,throttledIndicatorHover:d}},ot="ElCarousel",nt=Z({name:ot}),rt=Z({...nt,props:at,emits:st,setup(a,{expose:u,emit:p}){const l=a,{root:H,activeIndex:y,arrowDisplay:b,hasLabel:s,hover:C,isCardType:w,items:v,isVertical:k,containerStyle:_,handleButtonEnter:f,handleButtonLeave:I,isTransitioning:R,handleIndicatorClick:V,handleMouseEnter:N,handleMouseLeave:T,handleTransitionEnd:o,setActiveItem:n,prev:d,next:m,PlaceholderItem:h,isTwoLengthShow:E,throttledArrowClick:S,throttledIndicatorHover:M}=lt(l,p),r=_e("carousel"),{t:K}=Je(),x=$(()=>{const c=[r.b(),r.m(l.direction)];return e(w)&&c.push(r.m("card")),c}),ee=$(()=>{const c=[r.e("container")];return l.motionBlur&&e(R)&&v.value.length>1&&c.push(e(k)?`${r.namespace.value}-transitioning-vertical`:`${r.namespace.value}-transitioning`),c}),te=$(()=>{const c=[r.e("indicators"),r.em("indicators",l.direction)];return e(s)&&c.push(r.em("indicators","labels")),l.indicatorPosition==="outside"&&c.push(r.em("indicators","outside")),e(k)&&c.push(r.em("indicators","right")),c});return u({activeIndex:y,setActiveItem:n,prev:d,next:m}),(c,oe)=>(A(),D("div",{ref_key:"root",ref:H,class:P(e(x)),onMouseenter:J(e(N),["stop"]),onMouseleave:J(e(T),["stop"])},[e(b)?(A(),ce(ve,{key:0,name:"carousel-arrow-left",persisted:""},{default:Q(()=>[Y(O("button",{type:"button",class:P([e(r).e("arrow"),e(r).em("arrow","left")]),"aria-label":e(K)("el.carousel.leftArrow"),onMouseenter:G=>e(f)("left"),onMouseleave:e(I),onClick:J(G=>e(S)(e(y)-1),["stop"])},[X(e(fe),null,{default:Q(()=>[X(e(Xe))]),_:1})],42,["aria-label","onMouseenter","onMouseleave","onClick"]),[[q,(c.arrow==="always"||e(C))&&(l.loop||e(y)>0)]])]),_:1})):F("v-if",!0),e(b)?(A(),ce(ve,{key:1,name:"carousel-arrow-right",persisted:""},{default:Q(()=>[Y(O("button",{type:"button",class:P([e(r).e("arrow"),e(r).em("arrow","right")]),"aria-label":e(K)("el.carousel.rightArrow"),onMouseenter:G=>e(f)("right"),onMouseleave:e(I),onClick:J(G=>e(S)(e(y)+1),["stop"])},[X(e(fe),null,{default:Q(()=>[X(e(Ye))]),_:1})],42,["aria-label","onMouseenter","onMouseleave","onClick"]),[[q,(c.arrow==="always"||e(C))&&(l.loop||e(y)<e(v).length-1)]])]),_:1})):F("v-if",!0),O("div",{class:P(e(ee)),style:ye(e(_)),onTransitionend:e(o)},[X(e(h)),pe(c.$slots,"default")],46,["onTransitionend"]),c.indicatorPosition!=="none"?(A(),D("ul",{key:2,class:P(e(te))},[(A(!0),D(De,null,Re(e(v),(G,z)=>Y((A(),D("li",{key:z,class:P([e(r).e("indicator"),e(r).em("indicator",c.direction),e(r).is("active",z===e(y))]),onMouseenter:ae=>e(M)(z),onClick:J(ae=>e(V)(z),["stop"])},[O("button",{class:P(e(r).e("button")),"aria-label":e(K)("el.carousel.indicator",{index:z+1})},[e(s)?(A(),D("span",{key:0},Ge(G.props.label),1)):F("v-if",!0)],10,["aria-label"])],42,["onMouseenter","onClick"])),[[q,e(E)(z)]])),128))],2)):F("v-if",!0),l.motionBlur?(A(),D("svg",{key:3,xmlns:"http://www.w3.org/2000/svg",version:"1.1",style:{display:"none"}},[O("defs",null,[O("filter",{id:"elCarouselHorizontal"},[O("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"12,0"})]),O("filter",{id:"elCarouselVertical"},[O("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"0,10"})])])])):F("v-if",!0)],42,["onMouseenter","onMouseleave"]))}});var it=Ie(rt,[["__file","carousel.vue"]]);const ut=Ce({name:{type:String,default:""},label:{type:[String,Number],default:""}}),ct=a=>{const u=je(we),p=ge(),l=g(),H=g(!1),y=g(0),b=g(1),s=g(!1),C=g(!1),w=g(!1),v=g(!1),{isCardType:k,isVertical:_,cardScale:f}=u;function I(o,n,d){const m=d-1,h=n-1,E=n+1,S=d/2;return n===0&&o===m?-1:n===m&&o===0?d:o<h&&n-o>=S?d+1:o>E&&o-n>=S?-2:o}function R(o,n){var d,m;const h=e(_)?((d=u.root.value)==null?void 0:d.offsetHeight)||0:((m=u.root.value)==null?void 0:m.offsetWidth)||0;return w.value?h*((2-f)*(o-n)+1)/4:o<n?-(1+f)*h/4:(3+f)*h/4}function V(o,n,d){const m=u.root.value;return m?((d?m.offsetHeight:m.offsetWidth)||0)*(o-n):0}const N=(o,n,d)=>{var m;const h=e(k),E=(m=u.items.value.length)!=null?m:Number.NaN,S=o===n;!h&&!qe(d)&&(v.value=S||o===d),!S&&E>2&&u.loop&&(o=I(o,n,E));const M=e(_);s.value=S,h?(w.value=Math.round(Math.abs(o-n))<=1,y.value=R(o,n),b.value=e(s)?1:f):y.value=V(o,n,M),C.value=!0,S&&l.value&&u.setContainerHeight(l.value.offsetHeight)};function T(){if(u&&e(k)){const o=u.items.value.findIndex(({uid:n})=>n===p.uid);u.setActiveItem(o)}}return he(()=>{u.addItem({props:a,states:Fe({hover:H,translate:y,scale:b,active:s,ready:C,inStage:w,animating:v}),uid:p.uid,translateItem:N})}),Ke(()=>{u.removeItem(p.uid)}),{carouselItemRef:l,active:s,animating:v,hover:H,inStage:w,isVertical:_,translate:y,isCardType:k,scale:b,ready:C,handleItemClick:T}},vt=Z({name:le}),ft=Z({...vt,props:ut,setup(a){const u=a,p=_e("carousel"),{carouselItemRef:l,active:H,animating:y,hover:b,inStage:s,isVertical:C,translate:w,isCardType:v,scale:k,ready:_,handleItemClick:f}=ct(u),I=$(()=>[p.e("item"),p.is("active",H.value),p.is("in-stage",s.value),p.is("hover",b.value),p.is("animating",y.value),{[p.em("item","card")]:v.value,[p.em("item","card-vertical")]:v.value&&C.value}]),R=$(()=>{const N=`${`translate${e(C)?"Y":"X"}`}(${e(w)}px)`,T=`scale(${e(k)})`;return{transform:[N,T].join(" ")}});return(V,N)=>Y((A(),D("div",{ref_key:"carouselItemRef",ref:l,class:P(e(I)),style:ye(e(R)),onClick:e(f)},[e(v)?Y((A(),D("div",{key:0,class:P(e(p).e("mask"))},null,2)),[[q,!e(H)]]):F("v-if",!0),pe(V.$slots,"default")],14,["onClick"])),[[q,e(_)]])}});var Se=Ie(ft,[["__file","carousel-item.vue"]]);const Ct=Qe(it,{CarouselItem:Se}),It=Ze(Se);export{Ct as E,It as a};
