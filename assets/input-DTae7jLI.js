import{z as Q,y as h,E as Me,A as W,p as L,v as X,P as be,O as k,G as Re,a4 as st,x as rt,j as lt,ag as it,c as C,o as m,H as g,F as j,a as F,n as b,u as o,q as K,g as I,w as M,S as U,U as xe,d as ut,I as ct,a2 as dt,t as G,K as we,ac as Se}from"./index-CjttS2mS.js";import{aF as Ce,as as Le,ax as pt,ar as Ee,a3 as He,aG as Be,a0 as ft,az as vt,a2 as mt,aH as ht,D as $e,i as Ie,b as De,a7 as gt,n as ee,m as Pe,r as yt,ak as bt,ag as te,_ as xt,c as Ne,a4 as wt,aI as St,aJ as Ct,p as Et,a as It,e as R,I as Pt,w as Nt}from"./user-DgbkPqYO.js";import{U as ne,I as Te,C as ze}from"./event-BB_Ol6Sd.js";import{a as Tt,c as zt,u as Ft,f as kt}from"./button-BYmCANE9.js";import{d as Fe}from"./error-Cq9Fpw4b.js";function Ot(e){return e}function Vt(e,a,s){switch(s.length){case 0:return e.call(a);case 1:return e.call(a,s[0]);case 2:return e.call(a,s[0],s[1]);case 3:return e.call(a,s[0],s[1],s[2])}return e.apply(a,s)}var At=800,Mt=16,Rt=Date.now;function Lt(e){var a=0,s=0;return function(){var n=Rt(),r=Mt-(n-s);if(s=n,r>0){if(++a>=At)return arguments[0]}else a=0;return e.apply(void 0,arguments)}}function Ht(e){return function(){return e}}var Bt=Ce?function(e,a){return Ce(e,"toString",{configurable:!0,enumerable:!1,value:Ht(a),writable:!0})}:Ot,$t=Lt(Bt),ke=Math.max;function Dt(e,a,s){return a=ke(a===void 0?e.length-1:a,0),function(){for(var n=arguments,r=-1,u=ke(n.length-a,0),i=Array(u);++r<u;)i[r]=n[a+r];r=-1;for(var l=Array(a+1);++r<a;)l[r]=n[r];return l[a]=s(i),Vt(e,this,l)}}var _t=9007199254740991;function Kt(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=_t}var Ut="[object Arguments]";function Oe(e){return Le(e)&&pt(e)==Ut}var _e=Object.prototype,Gt=_e.hasOwnProperty,Wt=_e.propertyIsEnumerable,Ke=Oe(function(){return arguments}())?Oe:function(e){return Le(e)&&Gt.call(e,"callee")&&!Wt.call(e,"callee")};function Xt(e,a){for(var s=-1,n=a.length,r=e.length;++s<n;)e[r+s]=a[s];return e}var Ve=Ee?Ee.isConcatSpreadable:void 0;function Yt(e){return He(e)||Ke(e)||!!(Ve&&e&&e[Ve])}function Ue(e,a,s,n,r){var u=-1,i=e.length;for(s||(s=Yt),r||(r=[]);++u<i;){var l=e[u];a>0&&s(l)?a>1?Ue(l,a-1,s,n,r):Xt(r,l):r[r.length]=l}return r}function qt(e){var a=e==null?0:e.length;return a?Ue(e,1):[]}function Jt(e){return $t(Dt(e,void 0,qt),e+"")}function Zt(e,a){return e!=null&&a in Object(e)}function Qt(e,a,s){a=Be(a,e);for(var n=-1,r=a.length,u=!1;++n<r;){var i=ft(a[n]);if(!(u=e!=null&&s(e,i)))break;e=e[i]}return u||++n!=r?u:(r=e==null?0:e.length,!!r&&Kt(r)&&vt(i,r)&&(He(e)||Ke(e)))}function jt(e,a){return e!=null&&Qt(e,a,Zt)}function en(e,a,s){for(var n=-1,r=a.length,u={};++n<r;){var i=a[n],l=mt(e,i);s(l,i)&&ht(u,Be(i,e),l)}return u}function tn(e,a){return en(e,a,function(s,n){return jt(e,n)})}var nn=Jt(function(e,a){return e==null?{}:tn(e,a)});const an=()=>$e&&/firefox/i.test(window.navigator.userAgent);let S;const on={height:"0",visibility:"hidden",overflow:an()?"":"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},sn=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function rn(e){const a=window.getComputedStyle(e),s=a.getPropertyValue("box-sizing"),n=Number.parseFloat(a.getPropertyValue("padding-bottom"))+Number.parseFloat(a.getPropertyValue("padding-top")),r=Number.parseFloat(a.getPropertyValue("border-bottom-width"))+Number.parseFloat(a.getPropertyValue("border-top-width"));return{contextStyle:sn.map(i=>[i,a.getPropertyValue(i)]),paddingSize:n,borderSize:r,boxSizing:s}}function Ae(e,a=1,s){var n;S||(S=document.createElement("textarea"),document.body.appendChild(S));const{paddingSize:r,borderSize:u,boxSizing:i,contextStyle:l}=rn(e);l.forEach(([y,v])=>S==null?void 0:S.style.setProperty(y,v)),Object.entries(on).forEach(([y,v])=>S==null?void 0:S.style.setProperty(y,v,"important")),S.value=e.value||e.placeholder||"";let d=S.scrollHeight;const x={};i==="border-box"?d=d+u:i==="content-box"&&(d=d-r),S.value="";const f=S.scrollHeight-r;if(Ie(a)){let y=f*a;i==="border-box"&&(y=y+r+u),d=Math.max(y,d),x.minHeight=`${y}px`}if(Ie(s)){let y=f*s;i==="border-box"&&(y=y+r+u),d=Math.min(y,d)}return x.height=`${d}px`,(n=S.parentNode)==null||n.removeChild(S),S=void 0,x}const ln=De({ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical","undefined"]},ariaControls:String}),un=e=>nn(ln,e),cn=De({id:{type:String,default:void 0},size:yt,disabled:Boolean,modelValue:{type:ee([String,Number,Object]),default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:ee([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:Boolean,clearable:Boolean,showPassword:Boolean,showWordLimit:Boolean,suffixIcon:{type:Pe},prefixIcon:{type:Pe},containerRole:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:ee([Object,Array,String]),default:()=>gt({})},autofocus:Boolean,rows:{type:Number,default:2},...un(["ariaLabel"])}),dn={[ne]:e=>Q(e),input:e=>Q(e),change:e=>Q(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent},pn=["class","style"],fn=/^on[A-Z]/,vn=(e={})=>{const{excludeListeners:a=!1,excludeKeys:s}=e,n=h(()=>((s==null?void 0:s.value)||[]).concat(pn)),r=Me();return r?h(()=>{var u;return bt(Object.entries((u=r.proxy)==null?void 0:u.$attrs).filter(([i])=>!n.value.includes(i)&&!(a&&fn.test(i))))}):h(()=>({}))};function mn(e,{beforeFocus:a,afterFocus:s,beforeBlur:n,afterBlur:r}={}){const u=Me(),{emit:i}=u,l=W(),d=L(!1),x=v=>{be(a)&&a(v)||d.value||(d.value=!0,i("focus",v),s==null||s())},f=v=>{var w;be(n)&&n(v)||v.relatedTarget&&((w=l.value)!=null&&w.contains(v.relatedTarget))||(d.value=!1,i("blur",v),r==null||r())},y=()=>{var v,w;(v=l.value)!=null&&v.contains(document.activeElement)&&l.value!==document.activeElement||(w=e.value)==null||w.focus()};return X(l,v=>{v&&v.setAttribute("tabindex","-1")}),te(l,"focus",x,!0),te(l,"blur",f,!0),te(l,"click",y,!0),{isFocused:d,wrapperRef:l,handleFocus:x,handleBlur:f}}const hn=e=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(e);function gn({afterComposition:e,emit:a}){const s=L(!1),n=l=>{a==null||a("compositionstart",l),s.value=!0},r=l=>{var d;a==null||a("compositionupdate",l);const x=(d=l.target)==null?void 0:d.value,f=x[x.length-1]||"";s.value=!hn(f)},u=l=>{a==null||a("compositionend",l),s.value&&(s.value=!1,k(()=>e(l)))};return{isComposing:s,handleComposition:l=>{l.type==="compositionend"?u(l):r(l)},handleCompositionStart:n,handleCompositionUpdate:r,handleCompositionEnd:u}}function yn(e){let a;function s(){if(e.value==null)return;const{selectionStart:r,selectionEnd:u,value:i}=e.value;if(r==null||u==null)return;const l=i.slice(0,Math.max(0,r)),d=i.slice(Math.max(0,u));a={selectionStart:r,selectionEnd:u,value:i,beforeTxt:l,afterTxt:d}}function n(){if(e.value==null||a==null)return;const{value:r}=e.value,{beforeTxt:u,afterTxt:i,selectionStart:l}=a;if(u==null||i==null||l==null)return;let d=r.length;if(r.endsWith(i))d=r.length-i.length;else if(r.startsWith(u))d=u.length;else{const x=u[l-1],f=r.indexOf(x,l-1);f!==-1&&(d=f+1)}e.value.setSelectionRange(d,d)}return[s,n]}const bn="ElInput",xn=Re({name:bn,inheritAttrs:!1}),wn=Re({...xn,props:cn,emits:dn,setup(e,{expose:a,emit:s}){const n=e,r=st(),u=vn(),i=rt(),l=h(()=>[n.type==="textarea"?ae.b():c.b(),c.m(v.value),c.is("disabled",w.value),c.is("exceed",Je.value),{[c.b("group")]:i.prepend||i.append,[c.m("prefix")]:i.prefix||n.prefixIcon,[c.m("suffix")]:i.suffix||n.suffixIcon||n.clearable||n.showPassword,[c.bm("suffix","password-clear")]:_.value&&q.value,[c.b("hidden")]:n.type==="hidden"},r.class]),d=h(()=>[c.e("wrapper"),c.is("focus",D.value)]),{form:x,formItem:f}=Ft(),{inputId:y}=kt(n,{formItemContext:f}),v=Tt(),w=zt(),c=Ne("input"),ae=Ne("textarea"),H=W(),E=W(),Y=L(!1),B=L(!1),oe=L(),$=W(n.inputStyle),N=h(()=>H.value||E.value),{wrapperRef:Ge,isFocused:D,handleFocus:We,handleBlur:Xe}=mn(N,{beforeFocus(){return w.value},afterBlur(){var t;n.validateEvent&&((t=f==null?void 0:f.validate)==null||t.call(f,"blur").catch(p=>Fe()))}}),se=h(()=>{var t;return(t=x==null?void 0:x.statusIcon)!=null?t:!1}),O=h(()=>(f==null?void 0:f.validateState)||""),re=h(()=>O.value&&wt[O.value]),Ye=h(()=>B.value?St:Ct),qe=h(()=>[r.style]),le=h(()=>[n.inputStyle,$.value,{resize:n.resize}]),P=h(()=>Et(n.modelValue)?"":String(n.modelValue)),_=h(()=>n.clearable&&!w.value&&!n.readonly&&!!P.value&&(D.value||Y.value)),q=h(()=>n.showPassword&&!w.value&&!!P.value&&(!!P.value||D.value)),T=h(()=>n.showWordLimit&&!!n.maxlength&&(n.type==="text"||n.type==="textarea")&&!w.value&&!n.readonly&&!n.showPassword),J=h(()=>P.value.length),Je=h(()=>!!T.value&&J.value>Number(n.maxlength)),Ze=h(()=>!!i.suffix||!!n.suffixIcon||_.value||n.showPassword||T.value||!!O.value&&se.value),[ie,ue]=yn(H);It(E,t=>{if(Qe(),!T.value||n.resize!=="both")return;const p=t[0],{width:z}=p.contentRect;oe.value={right:`calc(100% - ${z+15+6}px)`}});const V=()=>{const{type:t,autosize:p}=n;if(!(!$e||t!=="textarea"||!E.value))if(p){const z=Se(p)?p.minRows:void 0,ge=Se(p)?p.maxRows:void 0,ye=Ae(E.value,z,ge);$.value={overflowY:"hidden",...ye},k(()=>{E.value.offsetHeight,$.value=ye})}else $.value={minHeight:Ae(E.value).minHeight}},Qe=(t=>{let p=!1;return()=>{var z;if(p||!n.autosize)return;((z=E.value)==null?void 0:z.offsetParent)===null||(t(),p=!0)}})(V),A=()=>{const t=N.value,p=n.formatter?n.formatter(P.value):P.value;!t||t.value===p||(t.value=p)},Z=async t=>{ie();let{value:p}=t.target;if(n.formatter&&n.parser&&(p=n.parser(p)),!de.value){if(p===P.value){A();return}s(ne,p),s(Te,p),await k(),A(),ue()}},ce=t=>{let{value:p}=t.target;n.formatter&&n.parser&&(p=n.parser(p)),s(ze,p)},{isComposing:de,handleCompositionStart:pe,handleCompositionUpdate:fe,handleCompositionEnd:ve}=gn({emit:s,afterComposition:Z}),je=()=>{ie(),B.value=!B.value,setTimeout(ue)},et=()=>{var t;return(t=N.value)==null?void 0:t.focus()},tt=()=>{var t;return(t=N.value)==null?void 0:t.blur()},nt=t=>{Y.value=!1,s("mouseleave",t)},at=t=>{Y.value=!0,s("mouseenter",t)},me=t=>{s("keydown",t)},ot=()=>{var t;(t=N.value)==null||t.select()},he=()=>{s(ne,""),s(ze,""),s("clear"),s(Te,"")};return X(()=>n.modelValue,()=>{var t;k(()=>V()),n.validateEvent&&((t=f==null?void 0:f.validate)==null||t.call(f,"change").catch(p=>Fe()))}),X(P,()=>A()),X(()=>n.type,async()=>{await k(),A(),V()}),lt(()=>{!n.formatter&&n.parser,A(),k(V)}),a({input:H,textarea:E,ref:N,textareaStyle:le,autosize:it(n,"autosize"),isComposing:de,focus:et,blur:tt,select:ot,clear:he,resizeTextarea:V}),(t,p)=>(m(),C("div",{class:b([o(l),{[o(c).bm("group","append")]:t.$slots.append,[o(c).bm("group","prepend")]:t.$slots.prepend}]),style:we(o(qe)),onMouseenter:at,onMouseleave:nt},[g(" input "),t.type!=="textarea"?(m(),C(j,{key:0},[g(" prepend slot "),t.$slots.prepend?(m(),C("div",{key:0,class:b(o(c).be("group","prepend"))},[K(t.$slots,"prepend")],2)):g("v-if",!0),F("div",{ref_key:"wrapperRef",ref:Ge,class:b(o(d))},[g(" prefix slot "),t.$slots.prefix||t.prefixIcon?(m(),C("span",{key:0,class:b(o(c).e("prefix"))},[F("span",{class:b(o(c).e("prefix-inner"))},[K(t.$slots,"prefix"),t.prefixIcon?(m(),I(o(R),{key:0,class:b(o(c).e("icon"))},{default:M(()=>[(m(),I(U(t.prefixIcon)))]),_:1},8,["class"])):g("v-if",!0)],2)],2)):g("v-if",!0),F("input",xe({id:o(y),ref_key:"input",ref:H,class:o(c).e("inner")},o(u),{minlength:t.minlength,maxlength:t.maxlength,type:t.showPassword?B.value?"text":"password":t.type,disabled:o(w),readonly:t.readonly,autocomplete:t.autocomplete,tabindex:t.tabindex,"aria-label":t.ariaLabel,placeholder:t.placeholder,style:t.inputStyle,form:t.form,autofocus:t.autofocus,role:t.containerRole,onCompositionstart:o(pe),onCompositionupdate:o(fe),onCompositionend:o(ve),onInput:Z,onChange:ce,onKeydown:me}),null,16,["id","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus","role","onCompositionstart","onCompositionupdate","onCompositionend"]),g(" suffix slot "),o(Ze)?(m(),C("span",{key:1,class:b(o(c).e("suffix"))},[F("span",{class:b(o(c).e("suffix-inner"))},[!o(_)||!o(q)||!o(T)?(m(),C(j,{key:0},[K(t.$slots,"suffix"),t.suffixIcon?(m(),I(o(R),{key:0,class:b(o(c).e("icon"))},{default:M(()=>[(m(),I(U(t.suffixIcon)))]),_:1},8,["class"])):g("v-if",!0)],64)):g("v-if",!0),o(_)?(m(),I(o(R),{key:1,class:b([o(c).e("icon"),o(c).e("clear")]),onMousedown:ct(o(dt),["prevent"]),onClick:he},{default:M(()=>[ut(o(Pt))]),_:1},8,["class","onMousedown"])):g("v-if",!0),o(q)?(m(),I(o(R),{key:2,class:b([o(c).e("icon"),o(c).e("password")]),onClick:je},{default:M(()=>[(m(),I(U(o(Ye))))]),_:1},8,["class"])):g("v-if",!0),o(T)?(m(),C("span",{key:3,class:b(o(c).e("count"))},[F("span",{class:b(o(c).e("count-inner"))},G(o(J))+" / "+G(t.maxlength),3)],2)):g("v-if",!0),o(O)&&o(re)&&o(se)?(m(),I(o(R),{key:4,class:b([o(c).e("icon"),o(c).e("validateIcon"),o(c).is("loading",o(O)==="validating")])},{default:M(()=>[(m(),I(U(o(re))))]),_:1},8,["class"])):g("v-if",!0)],2)],2)):g("v-if",!0)],2),g(" append slot "),t.$slots.append?(m(),C("div",{key:1,class:b(o(c).be("group","append"))},[K(t.$slots,"append")],2)):g("v-if",!0)],64)):(m(),C(j,{key:1},[g(" textarea "),F("textarea",xe({id:o(y),ref_key:"textarea",ref:E,class:[o(ae).e("inner"),o(c).is("focus",o(D))]},o(u),{minlength:t.minlength,maxlength:t.maxlength,tabindex:t.tabindex,disabled:o(w),readonly:t.readonly,autocomplete:t.autocomplete,style:o(le),"aria-label":t.ariaLabel,placeholder:t.placeholder,form:t.form,autofocus:t.autofocus,rows:t.rows,role:t.containerRole,onCompositionstart:o(pe),onCompositionupdate:o(fe),onCompositionend:o(ve),onInput:Z,onFocus:o(We),onBlur:o(Xe),onChange:ce,onKeydown:me}),null,16,["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus","rows","role","onCompositionstart","onCompositionupdate","onCompositionend","onFocus","onBlur"]),o(T)?(m(),C("span",{key:0,style:we(oe.value),class:b(o(c).e("count"))},G(o(J))+" / "+G(t.maxlength),7)):g("v-if",!0)],64))],38))}});var Sn=xt(wn,[["__file","input.vue"]]);const zn=Nt(Sn);export{zn as E,gn as a,Ue as b,Ot as c,mn as d,Xt as e,Kt as f,Ke as g,jt as h,an as i,nn as p,un as u};
