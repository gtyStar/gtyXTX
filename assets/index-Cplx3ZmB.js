import{h as G}from"./user-BlSoJ4sI.js";import{u as A,E as $}from"./search-CKThYalB.js";import{E as z,a as M}from"./tab-pane-DeoIe77-.js";import{E as O,a as U}from"./breadcrumb-item-CnrgW1gX.js";import{l,x as j,_ as H,k as J,m as K,c as _,a as N,d,w as m,i as Q,g as F,u as y,F as W,j as X,o as n,h as S,b as x,t as V}from"./index-DhLi9643.js";import"./loading-QT87a5DG.js";import{G as Y}from"./GoodsItem-DNqlsuJz.js";import{E as C}from"./index-C7WVrZTI.js";import"./error-Cq9Fpw4b.js";import"./scroll-Bg9HmHYL.js";import"./throttle-J-t_Ahw2.js";import"./debounce-Dr2Wdh2K.js";import"./strings-QWLb2JIv.js";import"./event-BB_Ol6Sd.js";import"./index-D1XXq3Qn.js";import"./vnode-dBc5tG_F.js";const Z=r=>G({url:"/category/sub/filter",params:{id:r}}),B=r=>G({url:"/category/goods/temporary",method:"post",data:r}),ee=()=>{const r=l([]);return{subCategoryFilterData:r,getSubCategoryFilter:async a=>{const c=C.service({lock:!0,text:"æ­£åœ¨åŠ è½½ä¸­ðŸ˜ðŸ˜ðŸ˜",background:"rgba(0, 0, 0, 0.1)"}),g=await Z(a);r.value=g.result,c.close()}}},te=()=>{const r=j(),i=l([]),a=l({categoryId:r.params.id,page:1,pageSize:20,sortField:"publishTime"}),c=async()=>{const u=C.service({lock:!0,text:"æ­£åœ¨åŠ è½½ä¸­ðŸ˜ðŸ˜ðŸ˜",background:"rgba(0, 0, 0, 0.1)"});console.log(a.value);const L=await B(a.value);i.value=L.result.items,u.close()},g=u=>{a.value.sortField=u,a.value.page=1,c()},h=l(!1),v=l(!1);return{goodList:i,reqData:a,changeReqData:g,load:async()=>{v.value=!0,a.value.page++;const u=await B(a.value);i.value=[...i.value,...u.result.items],v.value=!1,u.result.items.length===0&&(h.value=!0)},disabled:h,loading:v,getGoodList:c}},ae={class:"container"},oe={class:"bread-container"},se={class:"sub-container"},le=["infinite-scroll-disabled"],re={key:1,class:"more"},ne={key:2,class:"more"},ie=Object.assign({name:"SubCategory"},{__name:"index",setup(r){const i=j(),{subCategoryFilterData:a,getSubCategoryFilter:c}=ee(),{goodList:g,changeReqData:h,load:v,disabled:E,loading:u,getGoodList:L}=te(),T=l("publishTime"),k=l({}),o=l([]),{searchGoods:t}=A(),p=l(!1),I=async e=>{p.value=!1,e==="é…’"?o.value=[...t.wine.red,...t.wine.white,...t.wine.other]:e==="çº¢é…’"?o.value=[...t.wine.red]:e==="ç™½é…’"?o.value=[...t.wine.white]:e==="æ•°ç "?o.value=[...t.digital.line,...t.digital.ear,...t.digital.other]:e==="æ•°æ®çº¿"?o.value=[...t.digital.line]:e==="è€³æœº"?o.value=[...t.digital.ear]:e==="ä¹å™¨"||e==="å‰ä»–"?o.value=[...t.music.guitar]:e==="å¤´ç›”"?o.value=[...t.helmet.helmets]:(p.value=!0,await c(e),await L(),k.value=a.value,o.value=g.value)},b=l(!1);return J(()=>{b.value=!1;const e=C.service({lock:!0,text:"æ­£åœ¨åŠ è½½ä¸­ðŸ˜ðŸ˜ðŸ˜",background:"rgba(0, 0, 0, 0.1)"});I(i.params.id),setTimeout(()=>{e.close(),b.value=!0},500)}),K(()=>i.params.id,e=>{b.value=!1;const s=C.service({lock:!0,text:"æ­£åœ¨åŠ è½½ä¸­ðŸ˜ðŸ˜ðŸ˜",background:"rgba(0, 0, 0, 0.1)"});I(e),setTimeout(()=>{s.close(),b.value=!0},500)}),(e,s)=>{const w=U,q=O,D=M,P=z,R=$;return n(),_("div",ae,[N("div",oe,[d(q,{separator:">"},{default:m(()=>[d(w,{to:{path:"/"}},{default:m(()=>s[2]||(s[2]=[x("é¦–é¡µ")])),_:1}),p.value?(n(),S(w,{key:0,to:{path:`/category/${k.value.parentId}`}},{default:m(()=>[x(V(k.value.parentName),1)]),_:1},8,["to"])):F("",!0),p.value?(n(),S(w,{key:1},{default:m(()=>[x(V(k.value.name),1)]),_:1})):(n(),S(w,{key:2},{default:m(()=>s[3]||(s[3]=[x("æœç´¢")])),_:1}))]),_:1})]),N("div",se,[d(P,{modelValue:T.value,"onUpdate:modelValue":s[0]||(s[0]=f=>T.value=f),onTabChange:s[1]||(s[1]=f=>y(h)(T.value))},{default:m(()=>[d(D,{label:"æœ€æ–°å•†å“",name:"publishTime"}),d(D,{label:"æœ€é«˜äººæ°”",name:"orderNum"}),d(D,{label:"è¯„è®ºæœ€å¤š",name:"evaluateNum"})]),_:1},8,["modelValue"]),b.value?Q((n(),_("div",{key:0,class:"body","infinite-scroll-disabled":y(E)},[(n(!0),_(W,null,X(o.value,f=>(n(),S(Y,{key:f.id,goods:f},null,8,["goods"]))),128))],8,le)),[[R,p.value?y(v):""]]):F("",!0),y(u)?(n(),_("div",re,"åŠ è½½ä¸­ã€‚ã€‚ã€‚ðŸ˜‚ðŸ˜‚")):F("",!0),y(E)?(n(),_("div",ne,"æ²¡æœ‰æ›´å¤šäº†ðŸ˜˜ðŸ˜˜")):F("",!0)])])}}}),xe=H(ie,[["__scopeId","data-v-246b7eed"]]);export{xe as default};
