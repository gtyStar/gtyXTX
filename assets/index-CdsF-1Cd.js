import{u as X,E as N}from"./user-C7_jzyv1.js";import{E as O}from"./popover-CMqBH8Yi.js";import"./popper-7hQPsMhR.js";import{E as W}from"./button-7nJ3t-mP.js";import{_ as S,c as s,a as t,u as c,F as h,b,t as _,d,w as g,e as F,o as a,r as w,f as Z,g as L,h as H,i as E,j,k as I,l as x,m as B,n as G,v as J,p as Q,q as Y,s as V,x as tt}from"./index-TkdKxnmQ.js";import{u as et,E as at}from"./search-0q3wXY-a.js";import{E as T}from"./empty-CKLJO0gy.js";import{v as st}from"./loading-BDyvJbYM.js";import{u as z}from"./cartStore-Da7-TWKt.js";import{u as P}from"./category-Mfh2g77J.js";import{E as ot}from"./index-CSpk6Ybm.js";import"./input-D5yUGwVL.js";import"./event-BB_Ol6Sd.js";import"./error-Cq9Fpw4b.js";import"./focus-trap-DgjmBesV.js";import"./scroll-rZhSI_3i.js";import"./throttle-DgFG5gsS.js";import"./debounce-BrDSSJ1-.js";import"./overlay-DgUtRard.js";import"./vnode-Cdv6Nnja.js";const nt={class:"app-topnav"},it={class:"container"},rt={__name:"LayoutNav",setup($){const i=X(),m=F(),l=()=>{i.clearUserInfo(),m.push("/login")};return(u,e)=>{const y=O;return a(),s("nav",nt,[t("div",it,[t("ul",null,[c(i).userInfo.token?(a(),s(h,{key:0},[t("li",null,[t("a",{href:"javascript:;",onClick:e[0]||(e[0]=v=>u.$router.push("/"))},[e[4]||(e[4]=t("i",{class:"iconfont icon-user"},null,-1)),b(_(c(i).userInfo.nickname),1)])]),t("li",null,[d(y,{onConfirm:l,title:"确认退出吗?","confirm-button-text":"确认","cancel-button-text":"取消"},{reference:g(()=>e[5]||(e[5]=[t("a",{href:"javascript:;"},"退出登录",-1)])),_:1})]),t("li",null,[t("a",{href:"javascript:;",onClick:e[1]||(e[1]=v=>u.$router.push("/member/order"))},"我的订单")]),t("li",null,[t("a",{href:"javascript:;",onClick:e[2]||(e[2]=v=>u.$router.push("/member"))},"会员中心")])],64)):(a(),s(h,{key:1},[t("li",null,[t("a",{href:"javascript:;",onClick:e[3]||(e[3]=v=>u.$router.push("/login"))},"请先登录")]),e[6]||(e[6]=t("li",null,[t("a",{href:"javascript:;"},"帮助中心")],-1)),e[7]||(e[7]=t("li",null,[t("a",{href:"javascript:;"},"关于我们")],-1))],64))])])])}}},lt=S(rt,[["__scopeId","data-v-ca6713ac"]]),ct={class:"cart"},dt={class:"curr",href:"javascript:;"},ut={key:0},vt={class:"layer"},ft={key:0},pt={class:"list"},_t={alt:""},mt={class:"center"},yt={class:"name ellipsis-2"},bt={class:"attr ellipsis"},ht={class:"right"},gt={class:"price"},kt={class:"count"},$t=["onClick"],Ct={class:"foot"},xt={class:"total"},jt={__name:"HeaderCart",setup($){const i=z();return(m,l)=>{const u=w("RouterLink"),e=W,y=T,v=Z("img-lazy"),C=st;return a(),s("div",ct,[t("a",dt,[l[1]||(l[1]=t("i",{class:"iconfont icon-cart"},null,-1)),c(i).allCount!==0?(a(),s("em",ut,_(c(i).allCount),1)):L("",!0)]),t("div",vt,[c(i).allCount?(a(),s("div",ft,[E((a(),s("div",pt,[(a(!0),s(h,null,j(c(i).cartList,f=>(a(),s("div",{class:"item",key:f.id},[d(u,{to:`/detail/${f.id}`},{default:g(()=>[E(t("img",_t,null,512),[[v,f.picture]]),t("div",mt,[t("p",yt,_(f.name),1),t("p",bt,_(f.attrsText),1)]),t("div",ht,[t("p",gt,"¥"+_(f.nowPrice),1),t("p",kt,"x"+_(f.count),1)])]),_:2},1032,["to"]),t("i",{class:"iconfont icon-close-new",onClick:k=>c(i).delCart([f.skuId])},null,8,$t)]))),128))])),[[C,c(i).loading]]),t("div",Ct,[t("div",xt,[t("p",null,"共 "+_(c(i).allCount)+" 件商品",1),t("p",null,"¥ "+_(c(i).allPrice.toFixed(2)),1)]),d(e,{size:"large",type:"primary",onClick:l[0]||(l[0]=f=>m.$router.push("/cartlist"))},{default:g(()=>l[2]||(l[2]=[b("去购物车结算")])),_:1})])])):(a(),H(y,{key:1,description:"购物车列表为空"}))])])}}},St=S(jt,[["__scopeId","data-v-ef8af886"]]),Lt={class:"container"},Et={class:"logo"},wt={class:"app-header-nav"},Rt={key:0,class:"history"},It=["onClick"],Pt=["onClick"],qt={key:0,style:{"text-align":"center"}},Mt={key:1,class:"think"},Nt=["onClick"],Ft={__name:"LayoutHeader",setup($){const i=P(),m=z();I(()=>{m.getCartList()});const{searchHistory:l,addSearchHistory:u,delSearchHistory:e}=et(),y=F(),v=x(!1),C=x(!0),f=x(!1),k=x(""),p=x([]);B(()=>k.value,o=>{o===""?C.value=!0:C.value=!1,f.value=!1,o==="酒"?p.value=["酒","红酒","白酒"]:o==="数"?p.value=["数码","数据线"]:o==="数码"?p.value=["数码","数据线","耳机"]:o==="乐"?p.value=["乐器"]:o==="乐器"?p.value=["乐器","吉他"]:o==="头"||o==="头盔"?p.value=["头盔"]:o==="红"||o==="红酒"?p.value=["红酒"]:o==="白"||o==="白酒"?p.value=["白酒"]:o==="数据"||o==="数据线"?p.value=["数据线"]:o==="耳"||o==="耳机"?p.value=["耳机"]:o==="吉"||o==="吉他"?p.value=["吉他"]:(p.value=[],f.value=!0)});const R=o=>{u(o),k.value=o,v.value=!1,y.push(`/category/sub/${o}`),k.value=""},D=()=>{v.value=!1};return(o,n)=>{const q=w("RouterLink"),K=T,U=at;return E((a(),s("header",{class:"app-header",onWheel:n[6]||(n[6]=r=>v.value=!1)},[t("div",Lt,[t("h1",Et,[d(q,{to:"/"},{default:g(()=>n[7]||(n[7]=[b("小兔鲜")])),_:1})]),t("ul",wt,[(a(!0),s(h,null,j(c(i).categoryList,r=>(a(),s("li",{class:"home",key:r.id},[d(q,{"active-class":"active",to:`/category/${r.id}`},{default:g(()=>[b(_(r.name),1)]),_:2},1032,["to"])]))),128))]),t("div",{class:"search",onMouseenter:n[4]||(n[4]=r=>v.value=!0)},[n[10]||(n[10]=t("i",{class:"iconfont icon-search"},null,-1)),E(t("input",{type:"text",placeholder:"搜一搜",onFocus:n[0]||(n[0]=r=>v.value=!0),onKeyup:n[1]||(n[1]=G(r=>R(k.value),["enter"])),"onUpdate:modelValue":n[2]||(n[2]=r=>k.value=r)},null,544),[[J,k.value]]),v.value?(a(),s("div",{key:0,class:"show",onMouseleave:n[3]||(n[3]=r=>v.value=!1)},[C.value?(a(),s("div",Rt,[n[9]||(n[9]=t("div",{style:{height:"16px","line-height":"16px"}},"搜索历史",-1)),(a(!0),s(h,null,j(c(l),(r,M)=>(a(),s("div",{class:"historyItem",key:r},[t("span",{onClick:A=>R(r),class:"itemName"},_(r),9,It),t("i",{class:"iconfont icon-close-new del",onClick:A=>c(e)(M)},null,8,Pt)]))),128)),c(l).length===0?(a(),s("div",qt,n[8]||(n[8]=[b("还没有搜索记录哦😘😘~"),t("br",null,null,-1),b("去搜索吧！😁")]))):L("",!0)])):(a(),s("div",Mt,[t("ul",null,[(a(!0),s(h,null,j(p.value,r=>(a(),s("li",{key:r,onClick:M=>R(r)},_(r),9,Nt))),128))]),f.value?(a(),H(K,{key:0,description:"暂无搜索内容",style:{height:"180px"}})):L("",!0)]))],32)):L("",!0)],32),d(St,{onMouseenter:n[5]||(n[5]=r=>v.value=!1)})])],32)),[[U,D]])}}},Ht=S(Ft,[["__scopeId","data-v-2af35a27"]]),Bt="/gtyXTX/assets/qrcode-orqZiaKR.jpg",Tt={},zt={class:"app_footer"};function Dt($,i){return a(),s("footer",zt,i[0]||(i[0]=[Q('<div class="contact" data-v-92b8fc69><div class="container" data-v-92b8fc69><dl data-v-92b8fc69><dt data-v-92b8fc69>客户服务</dt><dd data-v-92b8fc69><i class="iconfont icon-kefu" data-v-92b8fc69></i> 在线客服</dd><dd data-v-92b8fc69><i class="iconfont icon-question" data-v-92b8fc69></i> 问题反馈</dd></dl><dl data-v-92b8fc69><dt data-v-92b8fc69>关注我们</dt><dd data-v-92b8fc69><i class="iconfont icon-weixin" data-v-92b8fc69></i> 公众号</dd><dd data-v-92b8fc69><i class="iconfont icon-weibo" data-v-92b8fc69></i> 微博</dd></dl><dl data-v-92b8fc69><dt data-v-92b8fc69>下载APP</dt><dd class="qrcode" data-v-92b8fc69><img src="'+Bt+'" data-v-92b8fc69></dd><dd class="download" data-v-92b8fc69><span data-v-92b8fc69>扫描二维码</span><span data-v-92b8fc69>立马下载APP</span><a href="javascript:;" data-v-92b8fc69>下载页面</a></dd></dl><dl data-v-92b8fc69><dt data-v-92b8fc69>服务热线</dt><dd class="hotline" data-v-92b8fc69>400-0000-000 <small data-v-92b8fc69>周一至周日 8:00-18:00</small></dd></dl></div></div><div class="extra" data-v-92b8fc69><div class="container" data-v-92b8fc69><div class="slogan" data-v-92b8fc69><a href="javascript:;" data-v-92b8fc69><i class="iconfont icon-footer01" data-v-92b8fc69></i><span data-v-92b8fc69>价格亲民</span></a><a href="javascript:;" data-v-92b8fc69><i class="iconfont icon-footer02" data-v-92b8fc69></i><span data-v-92b8fc69>物流快捷</span></a><a href="javascript:;" data-v-92b8fc69><i class="iconfont icon-footer03" data-v-92b8fc69></i><span data-v-92b8fc69>品质新鲜</span></a></div><div class="copyright" data-v-92b8fc69><p data-v-92b8fc69><a href="javascript:;" data-v-92b8fc69>关于我们</a><a href="javascript:;" data-v-92b8fc69>帮助中心</a><a href="javascript:;" data-v-92b8fc69>售后服务</a><a href="javascript:;" data-v-92b8fc69>配送与验收</a><a href="javascript:;" data-v-92b8fc69>商务合作</a><a href="javascript:;" data-v-92b8fc69>搜索推荐</a><a href="javascript:;" data-v-92b8fc69>友情链接</a></p><p data-v-92b8fc69>CopyRight © 小兔鲜儿</p></div></div></div>',2)]))}const Kt=S(Tt,[["render",Dt],["__scopeId","data-v-92b8fc69"]]),Ut={class:"container"},At={class:"app-header-nav"},Xt={class:"right"},Ot={__name:"LayoutFixed",setup($){const{y:i}=Y(window),m=P();return(l,u)=>{const e=w("RouterLink");return a(),s("div",{class:V(["app-header-sticky",c(i)>78?"show":""])},[t("div",Ut,[d(e,{class:"logo",to:"/"}),t("ul",At,[(a(!0),s(h,null,j(c(m).categoryList,y=>(a(),s("li",{class:"home",key:y.id},[d(e,{"active-class":"active",to:`/category/${y.id}`},{default:g(()=>[b(_(y.name),1)]),_:2},1032,["to"])]))),128))]),t("div",Xt,[d(e,{to:"/"},{default:g(()=>u[0]||(u[0]=[b("品牌")])),_:1}),d(e,{to:"/"},{default:g(()=>u[1]||(u[1]=[b("专题")])),_:1})])])],2)}}},Wt=S(Ot,[["__scopeId","data-v-4d40ea01"]]),pe=Object.assign({name:"LayoutPage"},{__name:"index",setup($){const i=P();I(async()=>{const l=ot.service({lock:!0,text:"正在加载中😍😍😍",background:"rgba(0, 0, 0, 0.1)"});await i.getCategory(),l.close()});const m=tt();return B(()=>m.query.page,l=>{l==="无效地址"&&(N({message:"页面不存在，已自动跳转到首页",type:"warning",duration:2e3}),window.history.replaceState({},"","/"))}),I(()=>{console.log(window.location.host),console.log(m.query.page),m.query.page==="无效地址"&&(N({message:"页面不存在，已自动跳转到首页",type:"warning",duration:2e3}),window.history.replaceState({},"","/"))}),(l,u)=>{const e=w("RouterView");return a(),s(h,null,[d(Wt),d(lt),d(Ht),d(e),d(Kt)],64)}}});export{pe as default};
