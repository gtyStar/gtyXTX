import{h as w}from"./user-BSRElb6q.js";import{g as I,E as D,a as N}from"./home-Cq4jXJas.js";import{E as P,a as R}from"./breadcrumb-item-BpvwZbBQ.js";import{G as V}from"./GoodsItem-BUMygZtl.js";import{p as f,v,j as k,m as x,_ as j,c,a as t,d as u,w as i,F as d,i as _,u as m,r as A,o as a,b as y,t as p,g as b}from"./index-eunbmvm0.js";import"./loading-C7puVnwF.js";import{E as F}from"./index-0FoHjfiT.js";import"./index-DhVzDghT.js";import"./vnode-41wdfZAv.js";import"./event-BB_Ol6Sd.js";import"./throttle-Dnh6PjiN.js";import"./debounce-BzK-j8AY.js";const G=r=>w({url:"/category",params:{id:r}}),T=()=>{const r=x(),s=f({}),l=async n=>{const o=await G(n);s.value=o.result};return v(()=>r.params.id,n=>{l(n)}),k(()=>{l(r.params.id)}),{categoryData:s}},M=()=>{const r=x(),s=f([]),l=async()=>{const o=await I("2");s.value=o.result},n=async()=>{const o=F.service({lock:!0,text:"正在加载中😍😍😍",background:"rgba(0, 0, 0, 0.1)"});await l(),o.close()};return k(()=>{n()}),v(()=>r.params.id,async()=>{n()}),{bannerList:s}},O={class:"top-category"},S={class:"container m-top-20"},U={class:"bread-container"},$={class:"home-banner"},q=["src"],z={class:"sub-list"},H=["src"],J={class:"head"},K={class:"body"},Q=Object.assign({name:"CategoryPage"},{__name:"index",setup(r){const{categoryData:s}=T(),{bannerList:l}=M();return(n,o)=>{const g=R,B=P,E=N,C=D,L=A("RouterLink");return a(),c("div",O,[t("div",S,[t("div",U,[u(B,{separator:">"},{default:i(()=>[u(g,{to:{path:"/"}},{default:i(()=>o[0]||(o[0]=[y("首页")])),_:1}),u(g,null,{default:i(()=>[y(p(m(s).name),1)]),_:1})]),_:1})]),t("div",$,[u(C,{height:"500px"},{default:i(()=>[(a(!0),c(d,null,_(m(l),e=>(a(),b(E,{key:e.id},{default:i(()=>[t("img",{src:e.imgUrl,alt:""},null,8,q)]),_:2},1024))),128))]),_:1})]),t("div",z,[o[1]||(o[1]=t("h3",null,"全部分类",-1)),t("ul",null,[(a(!0),c(d,null,_(m(s).children,e=>(a(),c("li",{key:e.id},[u(L,{to:`/category/sub/${e.id}`},{default:i(()=>[t("img",{src:e.picture},null,8,H),t("p",null,p(e.name),1)]),_:2},1032,["to"])]))),128))])]),(a(!0),c(d,null,_(m(s).children,e=>(a(),c("div",{class:"ref-goods",key:e.id},[t("div",J,[t("h3",null,"- "+p(e.name)+"-",1)]),t("div",K,[(a(!0),c(d,null,_(e.goods,h=>(a(),b(V,{goods:h,key:h.id},null,8,["goods"]))),128))])]))),128))])])}}}),lt=j(Q,[["__scopeId","data-v-a1351db3"]]);export{lt as default};
