import{x as Le,p as g,y as H,u as e,z as Pe,v as W,A as Oe,j as ge,B as Ve,C as ze,D as De,E as pe,G as Z,c as D,o as B,g as ve,H as F,a as P,w as Q,h as X,I as q,n as O,d as J,J as Y,T as fe,q as ye,K as Ie,F as Re,i as Ge,t as je,L as Fe,M as Ke,N as Ue}from"./index-CivuXavm.js";import{b as Ce,i as We,a as qe,_ as _e,c as we,d as Je,e as de,f as Xe,g as Ye,j as Qe,w as Ze,k as xe,h as x}from"./user-BkJRfpxS.js";import{u as et}from"./index-B6tKS4pG.js";import{f as tt}from"./vnode-BTiO0fxo.js";import{C as at}from"./event-BB_Ol6Sd.js";import{t as me}from"./throttle-lj_t53eo.js";const st=Ce({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,values:["hover","click"],default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:["","none","outside"],default:""},arrow:{type:String,values:["always","hover","never"],default:"hover"},type:{type:String,values:["","card"],default:""},cardScale:{type:Number,default:.83},loop:{type:Boolean,default:!0},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},pauseOnHover:{type:Boolean,default:!0},motionBlur:Boolean}),ot={change:(a,u)=>[a,u].every(We)},be=Symbol("carouselContextKey"),ne="ElCarouselItem",he=300,nt=(a,u,p)=>{const{children:o,addChild:$,removeChild:y}=et(pe(),ne),S=Le(),s=g(-1),I=g(null),w=g(!1),v=g(),T=g(0),_=g(!0),f=g(!0),C=g(!1),R=H(()=>a.arrow!=="never"&&!e(k)),V=H(()=>o.value.some(t=>t.props.label.toString().length>0)),N=H(()=>a.type==="card"),k=H(()=>a.direction==="vertical"),n=H(()=>a.height!=="auto"?{height:a.height}:{height:`${T.value}px`,overflow:"hidden"}),l=me(t=>{M(t)},he,{trailing:!0}),d=me(t=>{z(t)},he),m=t=>_.value?s.value<=1?t<=1:t>1:!0;function h(){I.value&&(clearInterval(I.value),I.value=null)}function E(){a.interval<=0||!a.autoplay||I.value||(I.value=setInterval(()=>b(),a.interval))}const b=()=>{f.value||(C.value=!0),f.value=!1,s.value<o.value.length-1?s.value=s.value+1:a.loop?s.value=0:C.value=!1};function M(t){if(f.value||(C.value=!0),f.value=!1,Pe(t)){const L=o.value.filter(j=>j.props.name===t);L.length>0&&(t=o.value.indexOf(L[0]))}if(t=Number(t),Number.isNaN(t)||t!==Math.floor(t))return;const i=o.value.length,A=s.value;t<0?s.value=a.loop?i-1:0:t>=i?s.value=a.loop?0:i-1:s.value=t,A===s.value&&r(A),re()}function r(t){o.value.forEach((i,A)=>{i.translateItem(A,s.value,t)})}function K(t,i){var A,L,j,ie;const U=e(o),ue=U.length;if(ue===0||!t.states.inStage)return!1;const Me=i+1,Ne=i-1,ce=ue-1,Ae=U[ce].states.active,Be=U[0].states.active,He=(L=(A=U[Me])==null?void 0:A.states)==null?void 0:L.active,$e=(ie=(j=U[Ne])==null?void 0:j.states)==null?void 0:ie.active;return i===ce&&Be||He?"left":i===0&&Ae||$e?"right":!1}function ee(){w.value=!0,a.pauseOnHover&&h()}function te(){w.value=!1,E()}function ae(){C.value=!1}function c(t){e(k)||o.value.forEach((i,A)=>{t===K(i,A)&&(i.states.hover=!0)})}function le(){e(k)||o.value.forEach(t=>{t.states.hover=!1})}function G(t){t!==s.value&&(f.value||(C.value=!0)),s.value=t}function z(t){a.trigger==="hover"&&t!==s.value&&(s.value=t,f.value||(C.value=!0))}function se(){M(s.value-1)}function Te(){M(s.value+1)}function re(){h(),a.pauseOnHover||E()}function ke(t){a.height==="auto"&&(T.value=t)}function Ee(){var t;const i=(t=S.default)==null?void 0:t.call(S);if(!i)return null;const L=tt(i).filter(j=>De(j)&&j.type.name===ne);return(L==null?void 0:L.length)===2&&a.loop&&!N.value?(_.value=!0,L):(_.value=!1,null)}W(()=>s.value,(t,i)=>{r(i),_.value&&(t=t%2,i=i%2),i>-1&&u(at,t,i)}),W(()=>a.autoplay,t=>{t?E():h()}),W(()=>a.loop,()=>{M(s.value)}),W(()=>a.interval,()=>{re()});const oe=Oe();return ge(()=>{W(()=>o.value,()=>{o.value.length>0&&M(a.initialIndex)},{immediate:!0}),oe.value=qe(v.value,()=>{r()}),E()}),Ve(()=>{h(),v.value&&oe.value&&oe.value.stop()}),ze(be,{root:v,isCardType:N,isVertical:k,items:o,loop:a.loop,cardScale:a.cardScale,addItem:$,removeItem:y,setActiveItem:M,setContainerHeight:ke}),{root:v,activeIndex:s,arrowDisplay:R,hasLabel:V,hover:w,isCardType:N,isTransitioning:C,items:o,isVertical:k,containerStyle:n,isItemsTwoLength:_,handleButtonEnter:c,handleTransitionEnd:ae,handleButtonLeave:le,handleIndicatorClick:G,handleMouseEnter:ee,handleMouseLeave:te,setActiveItem:M,prev:se,next:Te,PlaceholderItem:Ee,isTwoLengthShow:m,throttledArrowClick:l,throttledIndicatorHover:d}},lt="ElCarousel",rt=Z({name:lt}),it=Z({...rt,props:st,emits:ot,setup(a,{expose:u,emit:p}){const o=a,{root:$,activeIndex:y,arrowDisplay:S,hasLabel:s,hover:I,isCardType:w,items:v,isVertical:T,containerStyle:_,handleButtonEnter:f,handleButtonLeave:C,isTransitioning:R,handleIndicatorClick:V,handleMouseEnter:N,handleMouseLeave:k,handleTransitionEnd:n,setActiveItem:l,prev:d,next:m,PlaceholderItem:h,isTwoLengthShow:E,throttledArrowClick:b,throttledIndicatorHover:M}=nt(o,p),r=we("carousel"),{t:K}=Je(),ee=H(()=>{const c=[r.b(),r.m(o.direction)];return e(w)&&c.push(r.m("card")),c}),te=H(()=>{const c=[r.e("container")];return o.motionBlur&&e(R)&&v.value.length>1&&c.push(e(T)?`${r.namespace.value}-transitioning-vertical`:`${r.namespace.value}-transitioning`),c}),ae=H(()=>{const c=[r.e("indicators"),r.em("indicators",o.direction)];return e(s)&&c.push(r.em("indicators","labels")),o.indicatorPosition==="outside"&&c.push(r.em("indicators","outside")),e(T)&&c.push(r.em("indicators","right")),c});return u({activeIndex:y,setActiveItem:l,prev:d,next:m}),(c,le)=>(B(),D("div",{ref_key:"root",ref:$,class:O(e(ee)),onMouseenter:q(e(N),["stop"]),onMouseleave:q(e(k),["stop"])},[e(S)?(B(),ve(fe,{key:0,name:"carousel-arrow-left",persisted:""},{default:Q(()=>[X(P("button",{type:"button",class:O([e(r).e("arrow"),e(r).em("arrow","left")]),"aria-label":e(K)("el.carousel.leftArrow"),onMouseenter:G=>e(f)("left"),onMouseleave:e(C),onClick:q(G=>e(b)(e(y)-1),["stop"])},[J(e(de),null,{default:Q(()=>[J(e(Xe))]),_:1})],42,["aria-label","onMouseenter","onMouseleave","onClick"]),[[Y,(c.arrow==="always"||e(I))&&(o.loop||e(y)>0)]])]),_:1})):F("v-if",!0),e(S)?(B(),ve(fe,{key:1,name:"carousel-arrow-right",persisted:""},{default:Q(()=>[X(P("button",{type:"button",class:O([e(r).e("arrow"),e(r).em("arrow","right")]),"aria-label":e(K)("el.carousel.rightArrow"),onMouseenter:G=>e(f)("right"),onMouseleave:e(C),onClick:q(G=>e(b)(e(y)+1),["stop"])},[J(e(de),null,{default:Q(()=>[J(e(Ye))]),_:1})],42,["aria-label","onMouseenter","onMouseleave","onClick"]),[[Y,(c.arrow==="always"||e(I))&&(o.loop||e(y)<e(v).length-1)]])]),_:1})):F("v-if",!0),P("div",{class:O(e(te)),style:Ie(e(_)),onTransitionend:e(n)},[J(e(h)),ye(c.$slots,"default")],46,["onTransitionend"]),c.indicatorPosition!=="none"?(B(),D("ul",{key:2,class:O(e(ae))},[(B(!0),D(Re,null,Ge(e(v),(G,z)=>X((B(),D("li",{key:z,class:O([e(r).e("indicator"),e(r).em("indicator",c.direction),e(r).is("active",z===e(y))]),onMouseenter:se=>e(M)(z),onClick:q(se=>e(V)(z),["stop"])},[P("button",{class:O(e(r).e("button")),"aria-label":e(K)("el.carousel.indicator",{index:z+1})},[e(s)?(B(),D("span",{key:0},je(G.props.label),1)):F("v-if",!0)],10,["aria-label"])],42,["onMouseenter","onClick"])),[[Y,e(E)(z)]])),128))],2)):F("v-if",!0),o.motionBlur?(B(),D("svg",{key:3,xmlns:"http://www.w3.org/2000/svg",version:"1.1",style:{display:"none"}},[P("defs",null,[P("filter",{id:"elCarouselHorizontal"},[P("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"12,0"})]),P("filter",{id:"elCarouselVertical"},[P("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"0,10"})])])])):F("v-if",!0)],42,["onMouseenter","onMouseleave"]))}});var ut=_e(it,[["__file","carousel.vue"]]);const ct=Ce({name:{type:String,default:""},label:{type:[String,Number],default:""}}),vt=a=>{const u=Fe(be),p=pe(),o=g(),$=g(!1),y=g(0),S=g(1),s=g(!1),I=g(!1),w=g(!1),v=g(!1),{isCardType:T,isVertical:_,cardScale:f}=u;function C(n,l,d){const m=d-1,h=l-1,E=l+1,b=d/2;return l===0&&n===m?-1:l===m&&n===0?d:n<h&&l-n>=b?d+1:n>E&&n-l>=b?-2:n}function R(n,l){var d,m;const h=e(_)?((d=u.root.value)==null?void 0:d.offsetHeight)||0:((m=u.root.value)==null?void 0:m.offsetWidth)||0;return w.value?h*((2-f)*(n-l)+1)/4:n<l?-(1+f)*h/4:(3+f)*h/4}function V(n,l,d){const m=u.root.value;return m?((d?m.offsetHeight:m.offsetWidth)||0)*(n-l):0}const N=(n,l,d)=>{var m;const h=e(T),E=(m=u.items.value.length)!=null?m:Number.NaN,b=n===l;!h&&!Qe(d)&&(v.value=b||n===d),!b&&E>2&&u.loop&&(n=C(n,l,E));const M=e(_);s.value=b,h?(w.value=Math.round(Math.abs(n-l))<=1,y.value=R(n,l),S.value=e(s)?1:f):y.value=V(n,l,M),I.value=!0,b&&o.value&&u.setContainerHeight(o.value.offsetHeight)};function k(){if(u&&e(T)){const n=u.items.value.findIndex(({uid:l})=>l===p.uid);u.setActiveItem(n)}}return ge(()=>{u.addItem({props:a,states:Ke({hover:$,translate:y,scale:S,active:s,ready:I,inStage:w,animating:v}),uid:p.uid,translateItem:N})}),Ue(()=>{u.removeItem(p.uid)}),{carouselItemRef:o,active:s,animating:v,hover:$,inStage:w,isVertical:_,translate:y,isCardType:T,scale:S,ready:I,handleItemClick:k}},ft=Z({name:ne}),dt=Z({...ft,props:ct,setup(a){const u=a,p=we("carousel"),{carouselItemRef:o,active:$,animating:y,hover:S,inStage:s,isVertical:I,translate:w,isCardType:v,scale:T,ready:_,handleItemClick:f}=vt(u),C=H(()=>[p.e("item"),p.is("active",$.value),p.is("in-stage",s.value),p.is("hover",S.value),p.is("animating",y.value),{[p.em("item","card")]:v.value,[p.em("item","card-vertical")]:v.value&&I.value}]),R=H(()=>{const N=`${`translate${e(I)?"Y":"X"}`}(${e(w)}px)`,k=`scale(${e(T)})`;return{transform:[N,k].join(" ")}});return(V,N)=>X((B(),D("div",{ref_key:"carouselItemRef",ref:o,class:O(e(C)),style:Ie(e(R)),onClick:e(f)},[e(v)?X((B(),D("div",{key:0,class:O(e(p).e("mask"))},null,2)),[[Y,!e($)]]):F("v-if",!0),ye(V.$slots,"default")],14,["onClick"])),[[Y,e(_)]])}});var Se=_e(dt,[["__file","carousel-item.vue"]]);const Ct=Ze(ut,{CarouselItem:Se}),_t=xe(Se);function wt(a){return x({url:"/home/banner",params:{distributionSite:a}})}function bt(){return x({url:"/home/new"})}const St=()=>x({url:"/home/hot"}),Tt=()=>x({url:"/home/goods"});export{Ct as E,_t as a,bt as b,St as c,Tt as d,wt as g};
