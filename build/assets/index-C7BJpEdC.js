import{_ as E,u as A,c as n,a as t,b as d,F as b,d as h,t as f,e as u,w as g,f as X,o as e,r as P,g as at,h as w,i as M,j as x,k as L,l as j,m as y,n as O,p as R,q as ot,s as nt,v as it,E as B,x as rt,y as ct,z as lt}from"./index-Bf80aKor.js";import{E as dt}from"./popover-kVhxtaWe.js";import"./popper-CV7nljH2.js";import{E as ut}from"./button-BfPzu4mH.js";import{E as vt}from"./infinite-scroll-CZ8_r35_.js";import{v as Z}from"./loading-BJtuf_Jb.js";import{E as G}from"./empty-Xs5WN_rr.js";import{u as J}from"./cartStore-CMHekzrQ.js";import{u as D}from"./category-CJnA6lbx.js";import{E as Q}from"./index-Dj3FgEAh.js";import"./input-BDVXdQDy.js";import"./event-BB_Ol6Sd.js";import"./error-Cq9Fpw4b.js";import"./focus-trap-pmJd-tew.js";import"./scroll-DoNfp3rB.js";import"./throttle-18GqEGqF.js";import"./debounce-BquJSpxy.js";import"./overlay-MjyLPqG3.js";import"./vnode-BLgq5Sm2.js";const ft={class:"app-topnav"},pt={class:"container"},_t={__name:"LayoutNav",setup(S){const i=A(),v=X(),r=()=>{i.clearUserInfo(),v.push("/login")};return(c,o)=>{const _=dt;return e(),n("nav",ft,[t("div",pt,[t("ul",null,[d(i).userInfo.token?(e(),n(b,{key:0},[t("li",null,[t("a",{href:"javascript:;",onClick:o[0]||(o[0]=k=>c.$router.push("/"))},[o[4]||(o[4]=t("i",{class:"iconfont icon-user"},null,-1)),h(f(d(i).userInfo.nickname),1)])]),t("li",null,[u(_,{onConfirm:r,title:"确认退出吗?","confirm-button-text":"确认","cancel-button-text":"取消"},{reference:g(()=>o[5]||(o[5]=[t("a",{href:"javascript:;"},"退出登录",-1)])),_:1})]),t("li",null,[t("a",{href:"javascript:;",onClick:o[1]||(o[1]=k=>c.$router.push("/member/order"))},"我的订单")]),t("li",null,[t("a",{href:"javascript:;",onClick:o[2]||(o[2]=k=>c.$router.push("/member"))},"会员中心")])],64)):(e(),n(b,{key:1},[t("li",null,[t("a",{href:"javascript:;",onClick:o[3]||(o[3]=k=>c.$router.push("/login"))},"请先登录")]),o[6]||(o[6]=t("li",null,[t("a",{href:"javascript:;"},"帮助中心")],-1)),o[7]||(o[7]=t("li",null,[t("a",{href:"javascript:;"},"关于我们")],-1))],64))])])])}}},ht=E(_t,[["__scopeId","data-v-ca6713ac"]]),mt={class:"cart"},yt={class:"curr",href:"javascript:;"},bt={key:0},gt={class:"layer"},kt={key:0},$t={class:"list"},St={alt:""},Ct={class:"center"},wt={class:"name ellipsis-2"},xt={class:"attr ellipsis"},Lt={class:"right"},jt={class:"price"},Et={class:"count"},It=["onClick"],Rt={class:"foot"},Pt={class:"total"},Tt={__name:"HeaderCart",setup(S){const i=J();return(v,r)=>{const c=P("RouterLink"),o=ut,_=G,k=at("img-lazy"),T=Z;return e(),n("div",mt,[t("a",yt,[r[1]||(r[1]=t("i",{class:"iconfont icon-cart"},null,-1)),d(i).allCount!==0?(e(),n("em",bt,f(d(i).allCount),1)):w("",!0)]),t("div",gt,[d(i).allCount?(e(),n("div",kt,[x((e(),n("div",$t,[(e(!0),n(b,null,L(d(i).cartList,p=>(e(),n("div",{class:"item",key:p.id},[u(c,{to:`/detail/${p.id}`},{default:g(()=>[x(t("img",St,null,512),[[k,p.picture]]),t("div",Ct,[t("p",wt,f(p.name),1),t("p",xt,f(p.attrsText),1)]),t("div",Lt,[t("p",jt,"¥"+f(p.nowPrice),1),t("p",Et,"x"+f(p.count),1)])]),_:2},1032,["to"]),t("i",{class:"iconfont icon-close-new",onClick:m=>d(i).delCart([p.skuId])},null,8,It)]))),128))])),[[T,d(i).loading]]),t("div",Rt,[t("div",Pt,[t("p",null,"共 "+f(d(i).allCount)+" 件商品",1),t("p",null,"¥ "+f(d(i).allPrice.toFixed(2)),1)]),u(o,{size:"large",type:"primary",onClick:r[0]||(r[0]=p=>v.$router.push("/cartlist"))},{default:g(()=>r[2]||(r[2]=[h("去购物车结算")])),_:1})])])):(e(),M(_,{key:1,description:"购物车列表为空"}))])])}}},Nt=E(Tt,[["__scopeId","data-v-ef8af886"]]),qt={class:"app-header"},Ht={class:"container"},zt={class:"logo"},Ft={class:"app-header-nav"},Mt={key:0,class:"show searchShow"},Bt={key:0,class:"history searchShow"},Dt=["onClick"],Kt=["onClick"],Ut={key:0,class:"searchShow",style:{"text-align":"center","padding-top":"10px","font-size":"14px"}},At={key:0},Xt={key:1},Ot={key:1,class:"think searchShow"},Zt={class:"searchShow"},Gt=["onClick"],Jt={__name:"LayoutHeader",setup(S){const i=D(),v=J();j(()=>{v.getCartList()});const r=O(),c=y(!0),o=()=>{const s=Q.service({lock:!0,text:"正在加载中😍😍😍",background:"rgba(0, 0, 0, 0.1)"});setTimeout(()=>{s.close()},200)};j(()=>{r.path==="/cartlist"?(c.value=!1,v.getCartList(),o()):c.value=!0}),R(()=>r.path,s=>{s==="/cartlist"?(c.value=!1,v.getCartList(),o()):c.value=!0});const{searchHistory:_,addSearchHistory:k,delSearchHistory:T}=ot(),p=X(),m=y(!1);document.addEventListener("click",s=>{[...s.target.classList].includes("searchShow")||(m.value=!1)});const N=y(!0),q=y(!1),$=y(""),H=y([]),z=y(!1);R(()=>$.value,s=>{m.value=!0,z.value=!0,setTimeout(()=>{z.value=!1},500),s===""?N.value=!0:N.value=!1,q.value=!1;const a=I=>{setTimeout(()=>{H.value=I},500)};s==="酒"?a(["酒","红酒","白酒"]):s==="数"?a(["数码","数据线"]):s==="数码"?a(["数码","数据线","耳机"]):s==="乐"?a(["乐器"]):s==="乐器"?a(["乐器","吉他"]):s==="头"||s==="头盔"?a(["头盔"]):s==="红"||s==="红酒"?a(["红酒"]):s==="白"||s==="白酒"?a(["白酒"]):s==="数据"||s==="数据线"?a(["数据线"]):s==="耳"||s==="耳机"?a(["耳机"]):s==="吉"||s==="吉他"?a(["吉他"]):(H.value=[],q.value=!0)});const W=["酒","红酒","白酒","数码","数据线","耳机","乐器","吉他","头盔"],F=s=>{W.includes(s)?(k(s),$.value=s,m.value=!1,p.push(`/category/sub/${s}`)):B.warning("未搜索到内容，换一个吧"),$.value=""},Y=()=>{m.value=!1},K=A(),C=y(!1);return j(()=>{K.userInfo.token?C.value=!0:C.value=!1}),R(()=>r.path,()=>{K.userInfo.token?C.value=!0:C.value=!1}),(s,a)=>{const I=P("RouterLink"),V=G,tt=Z,st=vt;return x((e(),n("header",qt,[t("div",Ht,[t("h1",zt,[u(I,{to:"/"},{default:g(()=>a[4]||(a[4]=[h("小兔鲜")])),_:1})]),t("ul",Ft,[(e(!0),n(b,null,L(d(i).categoryList,l=>(e(),n("li",{class:"home",key:l.id},[u(I,{"active-class":"active",to:`/category/${l.id}`},{default:g(()=>[h(f(l.name),1)]),_:2},1032,["to"])]))),128))]),t("div",{class:"search searchShow",onClick:a[2]||(a[2]=l=>m.value=!0)},[a[7]||(a[7]=t("i",{class:"iconfont icon-search searchShow"},null,-1)),x(t("input",{class:"searchShow",type:"text",placeholder:"搜一搜",onKeyup:a[0]||(a[0]=nt(l=>F($.value),["enter"])),"onUpdate:modelValue":a[1]||(a[1]=l=>$.value=l)},null,544),[[it,$.value]]),m.value?(e(),n("div",Mt,[N.value?(e(),n("div",Bt,[a[6]||(a[6]=t("div",{class:"searchShow",style:{height:"16px","line-height":"16px"}},"搜索历史",-1)),(e(!0),n(b,null,L(d(_),(l,U)=>(e(),n("div",{class:"historyItem searchShow",key:l},[t("span",{onClick:et=>F(l),class:"itemName searchShow"},f(l),9,Dt),t("i",{class:"iconfont icon-close-new del searchShow",onClick:et=>d(T)(U)},null,8,Kt)]))),128)),d(_).length===0?(e(),n("div",Ut,[C.value?(e(),n("div",At,a[5]||(a[5]=[h("还没有搜索记录哦😘😘~"),t("br",null,null,-1),h("去搜索吧！😁")]))):(e(),n("div",Xt,"不登陆就没有搜索历史哦😂😂~"))])):w("",!0)])):x((e(),n("div",Ot,[t("ul",Zt,[(e(!0),n(b,null,L(H.value,l=>(e(),n("li",{class:"searchShow",key:l,onClick:U=>F(l)},f(l),9,Gt))),128))]),q.value?(e(),M(V,{key:0,class:"searchShow",description:"暂无搜索内容",style:{height:"180px"}})):w("",!0)])),[[tt,z.value]])])):w("",!0)]),c.value?(e(),M(Nt,{key:0,onMouseenter:a[3]||(a[3]=l=>m.value=!1)})):w("",!0)])])),[[st,Y]])}}},Qt=E(Jt,[["__scopeId","data-v-d803694e"]]),Wt="/gtyXTX/assets/qrcode-orqZiaKR.jpg",Yt={},Vt={class:"app_footer"};function ts(S,i){return e(),n("footer",Vt,i[0]||(i[0]=[rt('<div class="contact" data-v-92b8fc69><div class="container" data-v-92b8fc69><dl data-v-92b8fc69><dt data-v-92b8fc69>客户服务</dt><dd data-v-92b8fc69><i class="iconfont icon-kefu" data-v-92b8fc69></i> 在线客服</dd><dd data-v-92b8fc69><i class="iconfont icon-question" data-v-92b8fc69></i> 问题反馈</dd></dl><dl data-v-92b8fc69><dt data-v-92b8fc69>关注我们</dt><dd data-v-92b8fc69><i class="iconfont icon-weixin" data-v-92b8fc69></i> 公众号</dd><dd data-v-92b8fc69><i class="iconfont icon-weibo" data-v-92b8fc69></i> 微博</dd></dl><dl data-v-92b8fc69><dt data-v-92b8fc69>下载APP</dt><dd class="qrcode" data-v-92b8fc69><img src="'+Wt+'" data-v-92b8fc69></dd><dd class="download" data-v-92b8fc69><span data-v-92b8fc69>扫描二维码</span><span data-v-92b8fc69>立马下载APP</span><a href="javascript:;" data-v-92b8fc69>下载页面</a></dd></dl><dl data-v-92b8fc69><dt data-v-92b8fc69>服务热线</dt><dd class="hotline" data-v-92b8fc69>400-0000-000 <small data-v-92b8fc69>周一至周日 8:00-18:00</small></dd></dl></div></div><div class="extra" data-v-92b8fc69><div class="container" data-v-92b8fc69><div class="slogan" data-v-92b8fc69><a href="javascript:;" data-v-92b8fc69><i class="iconfont icon-footer01" data-v-92b8fc69></i><span data-v-92b8fc69>价格亲民</span></a><a href="javascript:;" data-v-92b8fc69><i class="iconfont icon-footer02" data-v-92b8fc69></i><span data-v-92b8fc69>物流快捷</span></a><a href="javascript:;" data-v-92b8fc69><i class="iconfont icon-footer03" data-v-92b8fc69></i><span data-v-92b8fc69>品质新鲜</span></a></div><div class="copyright" data-v-92b8fc69><p data-v-92b8fc69><a href="javascript:;" data-v-92b8fc69>关于我们</a><a href="javascript:;" data-v-92b8fc69>帮助中心</a><a href="javascript:;" data-v-92b8fc69>售后服务</a><a href="javascript:;" data-v-92b8fc69>配送与验收</a><a href="javascript:;" data-v-92b8fc69>商务合作</a><a href="javascript:;" data-v-92b8fc69>搜索推荐</a><a href="javascript:;" data-v-92b8fc69>友情链接</a></p><p data-v-92b8fc69>CopyRight © 小兔鲜儿</p></div></div></div>',2)]))}const ss=E(Yt,[["render",ts],["__scopeId","data-v-92b8fc69"]]),es={class:"container"},as={class:"app-header-nav"},os={class:"right"},ns={__name:"LayoutFixed",setup(S){const{y:i}=ct(window),v=D();return(r,c)=>{const o=P("RouterLink");return e(),n("div",{class:lt(["app-header-sticky",d(i)>78?"show":""])},[t("div",es,[u(o,{class:"logo",to:"/"}),t("ul",as,[(e(!0),n(b,null,L(d(v).categoryList,_=>(e(),n("li",{class:"home",key:_.id},[u(o,{"active-class":"active",to:`/category/${_.id}`},{default:g(()=>[h(f(_.name),1)]),_:2},1032,["to"])]))),128))]),t("div",os,[u(o,{to:"/"},{default:g(()=>c[0]||(c[0]=[h("品牌")])),_:1}),u(o,{to:"/"},{default:g(()=>c[1]||(c[1]=[h("专题")])),_:1})])])],2)}}},is=E(ns,[["__scopeId","data-v-4d40ea01"]]),xs=Object.assign({name:"LayoutPage"},{__name:"index",setup(S){const i=D();j(async()=>{const r=Q.service({lock:!0,text:"正在加载中😍😍😍",background:"rgba(0, 0, 0, 0.1)"});await i.getCategory(),r.close()});const v=O();return R(()=>v.query.statu,r=>{r==="404"&&(B({message:"页面不存在，已自动跳转到首页",type:"warning",duration:2e3}),window.history.replaceState({},"","/"))}),j(()=>{v.query.statu==="404"&&(B({message:"页面不存在，已自动跳转到首页",type:"warning",duration:2e3}),window.history.replaceState({},"","/"))}),(r,c)=>{const o=P("RouterView");return e(),n(b,null,[u(is),u(ht),u(Qt),u(o),u(ss)],64)}}});export{xs as default};
