import{D as A,Q as W,R,a0 as se,S as K,m as b,I as B,M as ie,bo as V,bp as Y,i as M,o as z,w as x,j as ce,a as P,z as g,b as f,$ as O,X as ue,Y as oe,aC as le,c as U,e as $,F as fe,G as N,ac as ve,af as q,p as G,N as de,a1 as me,bq as pe,l as he,a6 as Q,aj as be,h as F,B as I,ad as ye,b1 as ge,L as Se,a4 as ne,aW as we,aP as J,U as Z,V as ee,az as ze,b2 as Ee}from"./index-DcIaNqFw.js";import{t as _e}from"./error-Cq9Fpw4b.js";import{u as ke}from"./input-2jD8M9-t.js";import{a as Ce}from"./button-CZrZZ1DZ.js";const L=4,Te={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},He=({move:t,size:a,bar:l})=>({[l.size]:a,transform:`translate${l.axis}(${t}%)`}),X=Symbol("scrollbarContextKey"),Be=A({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),Le="Thumb",Me=R({__name:"thumb",props:Be,setup(t){const a=t,l=se(X),n=K("scrollbar");l||_e(Le,"can not inject scrollbar context");const s=b(),u=b(),v=b({}),m=b(!1);let h=!1,i=!1,r=le?document.onselectstart:null;const o=B(()=>Te[a.vertical?"vertical":"horizontal"]),c=B(()=>He({size:a.size,move:a.move,bar:o.value})),p=B(()=>s.value[o.value.offset]**2/l.wrapElement[o.value.scrollSize]/a.ratio/u.value[o.value.offset]),y=d=>{var k;if(d.stopPropagation(),d.ctrlKey||[1,2].includes(d.button))return;(k=window.getSelection())==null||k.removeAllRanges(),E(d);const H=d.currentTarget;H&&(v.value[o.value.axis]=H[o.value.offset]-(d[o.value.client]-H.getBoundingClientRect()[o.value.direction]))},T=d=>{if(!u.value||!s.value||!l.wrapElement)return;const k=Math.abs(d.target.getBoundingClientRect()[o.value.direction]-d[o.value.client]),H=u.value[o.value.offset]/2,j=(k-H)*100*p.value/s.value[o.value.offset];l.wrapElement[o.value.scroll]=j*l.wrapElement[o.value.scrollSize]/100},E=d=>{d.stopImmediatePropagation(),h=!0,document.addEventListener("mousemove",w),document.addEventListener("mouseup",S),r=document.onselectstart,document.onselectstart=()=>!1},w=d=>{if(!s.value||!u.value||h===!1)return;const k=v.value[o.value.axis];if(!k)return;const H=(s.value.getBoundingClientRect()[o.value.direction]-d[o.value.client])*-1,j=u.value[o.value.offset]-k,re=(H-j)*100*p.value/s.value[o.value.offset];l.wrapElement[o.value.scroll]=re*l.wrapElement[o.value.scrollSize]/100},S=()=>{h=!1,v.value[o.value.axis]=0,document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",S),e(),i&&(m.value=!1)},D=()=>{i=!1,m.value=!!a.size},_=()=>{i=!0,m.value=h};ie(()=>{e(),document.removeEventListener("mouseup",S)});const e=()=>{document.onselectstart!==r&&(document.onselectstart=r)};return V(Y(l,"scrollbarElement"),"mousemove",D),V(Y(l,"scrollbarElement"),"mouseleave",_),(d,k)=>(z(),M(oe,{name:f(n).b("fade"),persisted:""},{default:x(()=>[ce(P("div",{ref_key:"instance",ref:s,class:g([f(n).e("bar"),f(n).is(f(o).key)]),onMousedown:T},[P("div",{ref_key:"thumb",ref:u,class:g(f(n).e("thumb")),style:O(f(c)),onMousedown:y},null,38)],34),[[ue,d.always||m.value]])]),_:1},8,["name"]))}});var te=W(Me,[["__file","thumb.vue"]]);const Pe=A({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),Re=R({__name:"bar",props:Pe,setup(t,{expose:a}){const l=t,n=se(X),s=b(0),u=b(0),v=b(""),m=b(""),h=b(1),i=b(1);return a({handleScroll:c=>{if(c){const p=c.offsetHeight-L,y=c.offsetWidth-L;u.value=c.scrollTop*100/p*h.value,s.value=c.scrollLeft*100/y*i.value}},update:()=>{const c=n==null?void 0:n.wrapElement;if(!c)return;const p=c.offsetHeight-L,y=c.offsetWidth-L,T=p**2/c.scrollHeight,E=y**2/c.scrollWidth,w=Math.max(T,l.minSize),S=Math.max(E,l.minSize);h.value=T/(p-T)/(w/(p-w)),i.value=E/(y-E)/(S/(y-S)),m.value=w+L<p?`${w}px`:"",v.value=S+L<y?`${S}px`:""}}),(c,p)=>(z(),U(fe,null,[$(te,{move:s.value,ratio:i.value,size:v.value,always:c.always},null,8,["move","ratio","size","always"]),$(te,{move:u.value,ratio:h.value,size:m.value,vertical:"",always:c.always},null,8,["move","ratio","size","always"])],64))}});var Ne=W(Re,[["__file","bar.vue"]]);const xe=A({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:ve([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},tabindex:{type:[String,Number],default:void 0},id:String,role:String,...ke(["ariaLabel","ariaOrientation"])}),Oe={scroll:({scrollTop:t,scrollLeft:a})=>[t,a].every(N)},$e="ElScrollbar",Ae=R({name:$e}),We=R({...Ae,props:xe,emits:Oe,setup(t,{expose:a,emit:l}){const n=t,s=K("scrollbar");let u,v,m=0,h=0;const i=b(),r=b(),o=b(),c=b(),p=B(()=>{const e={};return n.height&&(e.height=q(n.height)),n.maxHeight&&(e.maxHeight=q(n.maxHeight)),[n.wrapStyle,e]}),y=B(()=>[n.wrapClass,s.e("wrap"),{[s.em("wrap","hidden-default")]:!n.native}]),T=B(()=>[s.e("view"),n.viewClass]),E=()=>{var e;r.value&&((e=c.value)==null||e.handleScroll(r.value),m=r.value.scrollTop,h=r.value.scrollLeft,l("scroll",{scrollTop:r.value.scrollTop,scrollLeft:r.value.scrollLeft}))};function w(e,d){ge(e)?r.value.scrollTo(e):N(e)&&N(d)&&r.value.scrollTo(e,d)}const S=e=>{N(e)&&(r.value.scrollTop=e)},D=e=>{N(e)&&(r.value.scrollLeft=e)},_=()=>{var e;(e=c.value)==null||e.update()};return G(()=>n.noresize,e=>{e?(u==null||u(),v==null||v()):({stop:u}=Se(o,_),v=V("resize",_))},{immediate:!0}),G(()=>[n.maxHeight,n.height],()=>{n.native||Q(()=>{var e;_(),r.value&&((e=c.value)==null||e.handleScroll(r.value))})}),de(X,me({scrollbarElement:i,wrapElement:r})),pe(()=>{r.value&&(r.value.scrollTop=m,r.value.scrollLeft=h)}),he(()=>{n.native||Q(()=>{_()})}),be(()=>_()),a({wrapRef:r,update:_,scrollTo:w,setScrollTop:S,setScrollLeft:D,handleScroll:E}),(e,d)=>(z(),U("div",{ref_key:"scrollbarRef",ref:i,class:g(f(s).b())},[P("div",{ref_key:"wrapRef",ref:r,class:g(f(y)),style:O(f(p)),tabindex:e.tabindex,onScroll:E},[(z(),M(ye(e.tag),{id:e.id,ref_key:"resizeRef",ref:o,class:g(f(T)),style:O(e.viewStyle),role:e.role,"aria-label":e.ariaLabel,"aria-orientation":e.ariaOrientation},{default:x(()=>[I(e.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],46,["tabindex"]),e.native?F("v-if",!0):(z(),M(Ne,{key:0,ref_key:"barRef",ref:c,always:e.always,"min-size":e.minSize},null,8,["always","min-size"]))],2))}});var De=W(We,[["__file","scrollbar.vue"]]);const Ge=ne(De),je=A({type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"},closable:Boolean,disableTransitions:Boolean,hit:Boolean,color:String,size:{type:String,values:we},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),Ve={close:t=>t instanceof MouseEvent,click:t=>t instanceof MouseEvent},Fe=R({name:"ElTag"}),Ie=R({...Fe,props:je,emits:Ve,setup(t,{emit:a}){const l=t,n=Ce(),s=K("tag"),u=B(()=>{const{type:i,hit:r,effect:o,closable:c,round:p}=l;return[s.b(),s.is("closable",c),s.m(i||"primary"),s.m(n.value),s.m(o),s.is("hit",r),s.is("round",p)]}),v=i=>{a("close",i)},m=i=>{a("click",i)},h=i=>{var r,o,c;(c=(o=(r=i==null?void 0:i.component)==null?void 0:r.subTree)==null?void 0:o.component)!=null&&c.bum&&(i.component.subTree.component.bum=null)};return(i,r)=>i.disableTransitions?(z(),U("span",{key:0,class:g(f(u)),style:O({backgroundColor:i.color}),onClick:m},[P("span",{class:g(f(s).e("content"))},[I(i.$slots,"default")],2),i.closable?(z(),M(f(ee),{key:0,class:g(f(s).e("close")),onClick:Z(v,["stop"])},{default:x(()=>[$(f(J))]),_:1},8,["class","onClick"])):F("v-if",!0)],6)):(z(),M(oe,{key:1,name:`${f(s).namespace.value}-zoom-in-center`,appear:"",onVnodeMounted:h},{default:x(()=>[P("span",{class:g(f(u)),style:O({backgroundColor:i.color}),onClick:m},[P("span",{class:g(f(s).e("content"))},[I(i.$slots,"default")],2),i.closable?(z(),M(f(ee),{key:0,class:g(f(s).e("close")),onClick:Z(v,["stop"])},{default:x(()=>[$(f(J))]),_:1},8,["class","onClick"])):F("v-if",!0)],6)]),_:3},8,["name"]))}});var Ke=W(Ie,[["__file","tag.vue"]]);const Qe=ne(Ke),C=new Map;if(le){let t;document.addEventListener("mousedown",a=>t=a),document.addEventListener("mouseup",a=>{if(t){for(const l of C.values())for(const{documentHandler:n}of l)n(a,t);t=void 0}})}function ae(t,a){let l=[];return ze(a.arg)?l=a.arg:Ee(a.arg)&&l.push(a.arg),function(n,s){const u=a.instance.popperRef,v=n.target,m=s==null?void 0:s.target,h=!a||!a.instance,i=!v||!m,r=t.contains(v)||t.contains(m),o=t===v,c=l.length&&l.some(y=>y==null?void 0:y.contains(v))||l.length&&l.includes(m),p=u&&(u.contains(v)||u.contains(m));h||i||r||o||c||p||a.value(n,s)}}const Je={beforeMount(t,a){C.has(t)||C.set(t,[]),C.get(t).push({documentHandler:ae(t,a),bindingFn:a.value})},updated(t,a){C.has(t)||C.set(t,[]);const l=C.get(t),n=l.findIndex(u=>u.bindingFn===a.oldValue),s={documentHandler:ae(t,a),bindingFn:a.value};n>=0?l.splice(n,1,s):l.push(s)},unmounted(t){C.delete(t)}};export{Je as C,Ge as E,Qe as a,je as t};
