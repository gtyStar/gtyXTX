import{u as P}from"./category-JQ5f3DkA.js";import{_ as v,c as l,b as s,F as h,l as g,d as R,r as L,h as y,o as n,f as i,w as u,e as H,t as r,j as f,k,A as x,p as $,m as b,B as S,a as C,q as B,i as N}from"./index-BM4B8MwL.js";import{E,a as A}from"./carousel-item-DOdtkrLI.js";import"./loading-BytnATQq.js";import{E as j}from"./index-5qh0HhS8.js";import{G}from"./GoodsItem-B1sxlE-z.js";import"./index-BVMfmUEj.js";import"./vnode-CM0C9mkM.js";import"./event-BB_Ol6Sd.js";import"./throttle-BYXuLtAb.js";import"./debounce-BD08LzQV.js";const V={class:"home-category"},q={class:"menu"},D={class:"layer"},M={alt:""},T={class:"info"},F={class:"name ellipsis-2"},U={class:"desc ellipsis"},O={class:"price"},J={__name:"HomeCategory",setup(d){const t=P();return(c,o)=>{const _=L("RouterLink"),m=y("img-lazy");return n(),l("div",V,[s("ul",q,[(n(!0),l(h,null,g(R(t).categoryList,a=>(n(),l("li",{key:a.id},[i(_,{to:"/"},{default:u(()=>[H(r(a.name),1)]),_:2},1024),(n(!0),l(h,null,g(a.children.splice(0,2),e=>(n(),f(_,{key:e,to:"/"},{default:u(()=>[H(r(e.name),1)]),_:2},1024))),128)),s("div",D,[o[1]||(o[1]=s("h4",null,"分类推荐",-1)),s("ul",null,[(n(!0),l(h,null,g(a.goods,e=>(n(),l("li",{key:e.id},[i(_,{to:`/detail/${e.id}`},{default:u(()=>[k(s("img",M,null,512),[[m,e.picture]]),s("div",T,[s("p",F,r(e.name),1),s("p",U,r(e.desc),1),s("p",O,[o[0]||(o[0]=s("i",null,"¥",-1)),H(r(e.price),1)])])]),_:2},1032,["to"])]))),128))])])]))),128))])])}}},K=v(J,[["__scopeId","data-v-79941fb7"]]);function Q(d){return x({url:"/home/banner",params:{distributionSite:d}})}function W(){return x({url:"/home/new"})}const X=()=>x({url:"/home/hot"}),Y=()=>x({url:"/home/goods"}),Z={class:"home-banner"},ee=["onClick"],te={__name:"HomeBanner",setup(d){const t=$([]),c=async()=>{const o=j.service({lock:!0,text:"正在加载中😍😍😍",background:"rgba(0, 0, 0, 0.1)"}),_=await Q("1");t.value=_.result,o.close()};return b(()=>{c()}),(o,_)=>{const m=A,a=E,e=y("img-lazy");return n(),l("div",Z,[i(a,{height:"500px"},{default:u(()=>[(n(!0),l(h,null,g(t.value,p=>(n(),f(m,{key:p.id},{default:u(()=>[k(s("img",{alt:"",onClick:z=>o.$router.push(p.hrefUrl)},null,8,ee),[[e,p.imgUrl]])]),_:2},1024))),128))]),_:1})])}}},se=v(te,[["__scopeId","data-v-228ca3a5"]]),oe={class:"home-panel"},ne={class:"container"},ae={class:"head"},le={__name:"HomePanel",props:{title:{type:String},subTitle:{type:String}},setup(d){return(t,c)=>(n(),l("div",oe,[s("div",ne,[s("div",ae,[s("h3",null,[H(r(d.title),1),s("small",null,r(d.subTitle),1)])]),s("div",null,[S(t.$slots,"default",{},void 0,!0)])])]))}},I=v(le,[["__scopeId","data-v-269d706a"]]),ce={class:"goods-list"},re={alt:""},ie={class:"name"},ue={class:"price"},_e={__name:"HomeNew",setup(d){const t=$([]),c=async()=>{const o=await W();t.value=o.result};return b(()=>{c()}),(o,_)=>{const m=L("RouterLink"),a=y("img-lazy");return n(),f(I,{title:"新鲜好物","sub-title":"新鲜出炉 品质靠谱"},{default:u(()=>[s("ul",ce,[(n(!0),l(h,null,g(t.value,e=>(n(),l("li",{key:e.id},[i(m,{to:`/detail/${e.id}`},{default:u(()=>[k(s("img",re,null,512),[[a,e.picture]]),s("p",ie,r(e.name),1),s("p",ue,"¥"+r(e.price),1)]),_:2},1032,["to"])]))),128))])]),_:1})}}},de=v(_e,[["__scopeId","data-v-e455d516"]]),me={class:"goods-list"},pe={alt:""},he={class:"name"},ge={class:"desc"},ve={__name:"HomeHot",setup(d){const t=$([]);return(async()=>{const o=await X();t.value=o.result})(),(o,_)=>{const m=L("RouterLink"),a=y("img-lazy");return n(),f(I,{title:"人气推荐","sub-title":"人气爆款 不容错过"},{default:u(()=>[s("ul",me,[(n(!0),l(h,null,g(t.value,e=>(n(),l("li",{key:e.id},[i(m,{to:"/"},{default:u(()=>[k(s("img",pe,null,512),[[a,e.picture]]),s("p",he,r(e.title),1),s("p",ge,r(e.alt),1)]),_:2},1024)]))),128))])]),_:1})}}},fe=v(ve,[["__scopeId","data-v-f6b6014f"]]),ye={class:"home-product"},ke={class:"box"},$e={class:"label"},Le={class:"goods-list"},be={__name:"HomeProduct",setup(d){const t=$([]),c=async()=>{const o=await Y();t.value=o.result,console.log(t.value)};return b(()=>{c()}),(o,_)=>{const m=L("RouterLink"),a=y("img-lazy");return n(),l("div",ye,[(n(!0),l(h,null,g(t.value,e=>(n(),f(I,{title:e.name,key:e.id},{default:u(()=>[s("div",ke,[i(m,{class:"cover",to:`/category/${e.id}`},{default:u(()=>[k(s("img",null,null,512),[[a,e.picture]]),s("strong",$e,[s("span",null,r(e.name)+"馆",1),s("span",null,r(e.saleInfo),1)])]),_:2},1032,["to"]),s("ul",Le,[(n(!0),l(h,null,g(e.goods,p=>(n(),l("li",{key:p.id},[i(G,{goods:p},null,8,["goods"])]))),128))])])]),_:2},1032,["title"]))),128))])}}},we=v(be,[["__scopeId","data-v-6bfa139f"]]),He={class:"goods-list"},xe={alt:""},Ie={class:"name"},ze={__name:"HomeLike",setup(d){const{searchGoods:t,searchHistory:c}=C(),o=$([]),_=a=>{let e=[];if(a.length<4)return document.querySelector(".goods-list").style.justifyContent="flex-start",a;for(document.querySelector(".goods-list").style.justifyContent="space-between";e.length<4;){const p=Math.floor(Math.random()*a.length);e.includes(a[p])||e.push(a[p])}return[...e]},m=()=>{const a=c[0];if(a)switch(a){case"酒":console.log("case"),o.value=[...t.wine.red,...t.wine.white,...t.wine.other];break;case"红酒":o.value=[...t.wine.red];break;case"白酒":o.value=[...t.wine.white];break;case"数码":o.value=[...t.digital.line,...t.digital.ear,...t.digital.other];break;case"数据线":o.value=[...t.digital.line];break;case"耳机":o.value=[...t.digital.ear];break;case"乐器":o.value=[...t.music.guitar];break;case"吉他":o.value=[...t.music.guitar];break;case"头盔":o.value=[...t.helmet.helmets];break}o.value=_(o.value),console.log(o.value)};return b(()=>{m()}),(a,e)=>{const p=L("RouterLink"),z=y("img-lazy");return n(),f(I,{title:"猜你喜欢","sub-title":"根据您最近一次搜索生成"},{default:u(()=>[s("ul",He,[(n(!0),l(h,null,g(o.value,w=>(n(),l("li",{key:w.id},[i(p,{to:`/detail/${w.id}`},{default:u(()=>[k(s("img",xe,null,512),[[z,w.picture]]),s("p",Ie,r(w.name),1)]),_:2},1032,["to"])]))),128))])]),_:1})}}},Ce=v(ze,[["__scopeId","data-v-d4b17f85"]]),Pe={class:"container"},Me=Object.assign({name:"HomePage"},{__name:"index",setup(d){const{searchHistory:t}=C(),c=$(!1);return b(()=>{t.length===0?c.value=!1:c.value=!0}),B(t,()=>{t.length===0?c.value=!1:c.value=!0}),(o,_)=>(n(),l(h,null,[s("div",Pe,[i(K),i(se)]),c.value?(n(),f(Ce,{key:0})):N("",!0),i(de),i(fe),i(we)],64))}});export{Me as default};
