import{u as O,E as I}from"./user-B09vwgLD.js";import{E as W}from"./popover-chlILXpP.js";import"./popper-DhFSmpAh.js";import{E as Z}from"./button-Z5oPM18n.js";import{_ as S,c as s,a as t,u as c,F as b,b as h,t as _,d,w as g,e as F,o as a,r as w,f as G,g as L,h as H,i as E,j,k as P,l as x,m as B,n as J,v as Q,p as Y,q as V,s as tt,x as et}from"./index-DsM5QmqD.js";import{u as at,E as st}from"./search-By94AY2l.js";import{E as T}from"./empty-KKnMtMjN.js";import{v as ot}from"./loading-DA6otzSy.js";import{u as z}from"./cartStore-L74dtWX4.js";import{u as q}from"./category-DyMED1_Z.js";import{E as nt}from"./index-BCqg8NeN.js";import"./input-Ca_RZ81r.js";import"./event-BB_Ol6Sd.js";import"./error-Cq9Fpw4b.js";import"./focus-trap-CFV13DVw.js";import"./scroll-C1TE8oWP.js";import"./throttle-BNwg__3o.js";import"./debounce-CJKWcNqm.js";import"./overlay-DwIeZBQP.js";import"./vnode-4Ur0teIC.js";const it={class:"app-topnav"},rt={class:"container"},lt={__name:"LayoutNav",setup($){const i=O(),m=F(),l=()=>{i.clearUserInfo(),m.push("/login")};return(u,e)=>{const y=W;return a(),s("nav",it,[t("div",rt,[t("ul",null,[c(i).userInfo.token?(a(),s(b,{key:0},[t("li",null,[t("a",{href:"javascript:;",onClick:e[0]||(e[0]=v=>u.$router.push("/"))},[e[4]||(e[4]=t("i",{class:"iconfont icon-user"},null,-1)),h(_(c(i).userInfo.nickname),1)])]),t("li",null,[d(y,{onConfirm:l,title:"确认退出吗?","confirm-button-text":"确认","cancel-button-text":"取消"},{reference:g(()=>e[5]||(e[5]=[t("a",{href:"javascript:;"},"退出登录",-1)])),_:1})]),t("li",null,[t("a",{href:"javascript:;",onClick:e[1]||(e[1]=v=>u.$router.push("/member/order"))},"我的订单")]),t("li",null,[t("a",{href:"javascript:;",onClick:e[2]||(e[2]=v=>u.$router.push("/member"))},"会员中心")])],64)):(a(),s(b,{key:1},[t("li",null,[t("a",{href:"javascript:;",onClick:e[3]||(e[3]=v=>u.$router.push("/login"))},"请先登录")]),e[6]||(e[6]=t("li",null,[t("a",{href:"javascript:;"},"帮助中心")],-1)),e[7]||(e[7]=t("li",null,[t("a",{href:"javascript:;"},"关于我们")],-1))],64))])])])}}},ct=S(lt,[["__scopeId","data-v-ca6713ac"]]),dt={class:"cart"},ut={class:"curr",href:"javascript:;"},vt={key:0},ft={class:"layer"},pt={key:0},_t={class:"list"},mt={alt:""},yt={class:"center"},ht={class:"name ellipsis-2"},bt={class:"attr ellipsis"},gt={class:"right"},kt={class:"price"},$t={class:"count"},Ct=["onClick"],xt={class:"foot"},jt={class:"total"},St={__name:"HeaderCart",setup($){const i=z();return(m,l)=>{const u=w("RouterLink"),e=Z,y=T,v=G("img-lazy"),C=ot;return a(),s("div",dt,[t("a",ut,[l[1]||(l[1]=t("i",{class:"iconfont icon-cart"},null,-1)),c(i).allCount!==0?(a(),s("em",vt,_(c(i).allCount),1)):L("",!0)]),t("div",ft,[c(i).allCount?(a(),s("div",pt,[E((a(),s("div",_t,[(a(!0),s(b,null,j(c(i).cartList,f=>(a(),s("div",{class:"item",key:f.id},[d(u,{to:`/detail/${f.id}`},{default:g(()=>[E(t("img",mt,null,512),[[v,f.picture]]),t("div",yt,[t("p",ht,_(f.name),1),t("p",bt,_(f.attrsText),1)]),t("div",gt,[t("p",kt,"¥"+_(f.nowPrice),1),t("p",$t,"x"+_(f.count),1)])]),_:2},1032,["to"]),t("i",{class:"iconfont icon-close-new",onClick:k=>c(i).delCart([f.skuId])},null,8,Ct)]))),128))])),[[C,c(i).loading]]),t("div",xt,[t("div",jt,[t("p",null,"共 "+_(c(i).allCount)+" 件商品",1),t("p",null,"¥ "+_(c(i).allPrice.toFixed(2)),1)]),d(e,{size:"large",type:"primary",onClick:l[0]||(l[0]=f=>m.$router.push("/cartlist"))},{default:g(()=>l[2]||(l[2]=[h("去购物车结算")])),_:1})])])):(a(),H(y,{key:1,description:"购物车列表为空"}))])])}}},Lt=S(St,[["__scopeId","data-v-ef8af886"]]),Et={class:"container"},wt={class:"logo"},Rt={class:"app-header-nav"},It={key:0,class:"history"},Pt=["onClick"],qt=["onClick"],Mt={key:0,style:{"text-align":"center"}},Nt={key:1,class:"think"},Ft=["onClick"],Ht={__name:"LayoutHeader",setup($){const i=q(),m=z();P(()=>{m.getCartList()});const{searchHistory:l,addSearchHistory:u,delSearchHistory:e}=at(),y=F(),v=x(!1),C=x(!0),f=x(!1),k=x(""),p=x([]);B(()=>k.value,o=>{o===""?C.value=!0:C.value=!1,f.value=!1,o==="酒"?p.value=["酒","红酒","白酒"]:o==="数"?p.value=["数码","数据线"]:o==="数码"?p.value=["数码","数据线","耳机"]:o==="乐"?p.value=["乐器"]:o==="乐器"?p.value=["乐器","吉他"]:o==="头"||o==="头盔"?p.value=["头盔"]:o==="红"||o==="红酒"?p.value=["红酒"]:o==="白"||o==="白酒"?p.value=["白酒"]:o==="数据"||o==="数据线"?p.value=["数据线"]:o==="耳"||o==="耳机"?p.value=["耳机"]:o==="吉"||o==="吉他"?p.value=["吉他"]:(p.value=[],f.value=!0)});const D=["酒","红酒","白酒","数码","数据线","耳机","乐器","吉他","头盔"],R=o=>{D.includes(o)?(u(o),k.value=o,v.value=!1,y.push(`/category/sub/${o}`)):I.warning("未搜索到内容，换一个吧"),k.value=""},K=()=>{v.value=!1};return(o,n)=>{const M=w("RouterLink"),U=T,A=st;return E((a(),s("header",{class:"app-header",onWheel:n[6]||(n[6]=r=>v.value=!1)},[t("div",Et,[t("h1",wt,[d(M,{to:"/"},{default:g(()=>n[7]||(n[7]=[h("小兔鲜")])),_:1})]),t("ul",Rt,[(a(!0),s(b,null,j(c(i).categoryList,r=>(a(),s("li",{class:"home",key:r.id},[d(M,{"active-class":"active",to:`/category/${r.id}`},{default:g(()=>[h(_(r.name),1)]),_:2},1032,["to"])]))),128))]),t("div",{class:"search",onMouseenter:n[4]||(n[4]=r=>v.value=!0)},[n[10]||(n[10]=t("i",{class:"iconfont icon-search"},null,-1)),E(t("input",{type:"text",placeholder:"搜一搜",onFocus:n[0]||(n[0]=r=>v.value=!0),onKeyup:n[1]||(n[1]=J(r=>R(k.value),["enter"])),"onUpdate:modelValue":n[2]||(n[2]=r=>k.value=r)},null,544),[[Q,k.value]]),v.value?(a(),s("div",{key:0,class:"show",onMouseleave:n[3]||(n[3]=r=>v.value=!1)},[C.value?(a(),s("div",It,[n[9]||(n[9]=t("div",{style:{height:"16px","line-height":"16px"}},"搜索历史",-1)),(a(!0),s(b,null,j(c(l),(r,N)=>(a(),s("div",{class:"historyItem",key:r},[t("span",{onClick:X=>R(r),class:"itemName"},_(r),9,Pt),t("i",{class:"iconfont icon-close-new del",onClick:X=>c(e)(N)},null,8,qt)]))),128)),c(l).length===0?(a(),s("div",Mt,n[8]||(n[8]=[h("还没有搜索记录哦😘😘~"),t("br",null,null,-1),h("去搜索吧！😁")]))):L("",!0)])):(a(),s("div",Nt,[t("ul",null,[(a(!0),s(b,null,j(p.value,r=>(a(),s("li",{key:r,onClick:N=>R(r)},_(r),9,Ft))),128))]),f.value?(a(),H(U,{key:0,description:"暂无搜索内容",style:{height:"180px"}})):L("",!0)]))],32)):L("",!0)],32),d(Lt,{onMouseenter:n[5]||(n[5]=r=>v.value=!1)})])],32)),[[A,K]])}}},Bt=S(Ht,[["__scopeId","data-v-4a7d431e"]]),Tt="/gtyXTX/assets/qrcode-orqZiaKR.jpg",zt={},Dt={class:"app_footer"};function Kt($,i){return a(),s("footer",Dt,i[0]||(i[0]=[Y('<div class="contact" data-v-92b8fc69><div class="container" data-v-92b8fc69><dl data-v-92b8fc69><dt data-v-92b8fc69>客户服务</dt><dd data-v-92b8fc69><i class="iconfont icon-kefu" data-v-92b8fc69></i> 在线客服</dd><dd data-v-92b8fc69><i class="iconfont icon-question" data-v-92b8fc69></i> 问题反馈</dd></dl><dl data-v-92b8fc69><dt data-v-92b8fc69>关注我们</dt><dd data-v-92b8fc69><i class="iconfont icon-weixin" data-v-92b8fc69></i> 公众号</dd><dd data-v-92b8fc69><i class="iconfont icon-weibo" data-v-92b8fc69></i> 微博</dd></dl><dl data-v-92b8fc69><dt data-v-92b8fc69>下载APP</dt><dd class="qrcode" data-v-92b8fc69><img src="'+Tt+'" data-v-92b8fc69></dd><dd class="download" data-v-92b8fc69><span data-v-92b8fc69>扫描二维码</span><span data-v-92b8fc69>立马下载APP</span><a href="javascript:;" data-v-92b8fc69>下载页面</a></dd></dl><dl data-v-92b8fc69><dt data-v-92b8fc69>服务热线</dt><dd class="hotline" data-v-92b8fc69>400-0000-000 <small data-v-92b8fc69>周一至周日 8:00-18:00</small></dd></dl></div></div><div class="extra" data-v-92b8fc69><div class="container" data-v-92b8fc69><div class="slogan" data-v-92b8fc69><a href="javascript:;" data-v-92b8fc69><i class="iconfont icon-footer01" data-v-92b8fc69></i><span data-v-92b8fc69>价格亲民</span></a><a href="javascript:;" data-v-92b8fc69><i class="iconfont icon-footer02" data-v-92b8fc69></i><span data-v-92b8fc69>物流快捷</span></a><a href="javascript:;" data-v-92b8fc69><i class="iconfont icon-footer03" data-v-92b8fc69></i><span data-v-92b8fc69>品质新鲜</span></a></div><div class="copyright" data-v-92b8fc69><p data-v-92b8fc69><a href="javascript:;" data-v-92b8fc69>关于我们</a><a href="javascript:;" data-v-92b8fc69>帮助中心</a><a href="javascript:;" data-v-92b8fc69>售后服务</a><a href="javascript:;" data-v-92b8fc69>配送与验收</a><a href="javascript:;" data-v-92b8fc69>商务合作</a><a href="javascript:;" data-v-92b8fc69>搜索推荐</a><a href="javascript:;" data-v-92b8fc69>友情链接</a></p><p data-v-92b8fc69>CopyRight © 小兔鲜儿</p></div></div></div>',2)]))}const Ut=S(zt,[["render",Kt],["__scopeId","data-v-92b8fc69"]]),At={class:"container"},Xt={class:"app-header-nav"},Ot={class:"right"},Wt={__name:"LayoutFixed",setup($){const{y:i}=V(window),m=q();return(l,u)=>{const e=w("RouterLink");return a(),s("div",{class:tt(["app-header-sticky",c(i)>78?"show":""])},[t("div",At,[d(e,{class:"logo",to:"/"}),t("ul",Xt,[(a(!0),s(b,null,j(c(m).categoryList,y=>(a(),s("li",{class:"home",key:y.id},[d(e,{"active-class":"active",to:`/category/${y.id}`},{default:g(()=>[h(_(y.name),1)]),_:2},1032,["to"])]))),128))]),t("div",Ot,[d(e,{to:"/"},{default:g(()=>u[0]||(u[0]=[h("品牌")])),_:1}),d(e,{to:"/"},{default:g(()=>u[1]||(u[1]=[h("专题")])),_:1})])])],2)}}},Zt=S(Wt,[["__scopeId","data-v-4d40ea01"]]),_e=Object.assign({name:"LayoutPage"},{__name:"index",setup($){const i=q();P(async()=>{const l=nt.service({lock:!0,text:"正在加载中😍😍😍",background:"rgba(0, 0, 0, 0.1)"});await i.getCategory(),l.close()});const m=et();return B(()=>m.query.page,l=>{l==="无效地址"&&(I({message:"页面不存在，已自动跳转到首页",type:"warning",duration:2e3}),window.history.replaceState({},"","/"))}),P(()=>{console.log(window.location.host),console.log(m.query.page),m.query.page==="无效地址"&&(I({message:"页面不存在，已自动跳转到首页",type:"warning",duration:2e3}),window.history.replaceState({},"","/"))}),(l,u)=>{const e=w("RouterView");return a(),s(b,null,[d(Zt),d(ct),d(Bt),d(e),d(Ut)],64)}}});export{_e as default};
